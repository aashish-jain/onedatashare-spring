(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{276:function(e,t,a){e.exports=a.p+"static/media/fast.94fb7985.png"},277:function(e,t,a){e.exports=a.p+"static/media/easy.c3ec87a7.png"},278:function(e,t,a){e.exports=a.p+"static/media/endtoend.84514f60.png"},279:function(e,t,a){e.exports=a.p+"static/media/precise.fcfd05a0.png"},280:function(e,t,a){e.exports=a.p+"static/media/interoperation.2558a942.png"},281:function(e,t,a){e.exports=a.p+"static/media/NSF_Logo.0f6f085b.png"},282:function(e,t,a){e.exports=a.p+"static/media/ub.ac8a9d3e.png"},315:function(e,t,a){e.exports=a(633)},320:function(e,t,a){},321:function(e,t,a){},610:function(e,t,a){},633:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),o=a.n(i),l=(a(320),a(19)),s=a(17),c=a(21),d=a(20),u=a(22),m=(a(321),a(652)),p=a(642),h=a(643),f=a(651),g=a(641),b=a(274),y=a.n(b),E=a(43),v=a.n(E),w={display:"flex",justifyContent:"space-between"},O=("localhost"===window.location.hostname||window.location.hostname,"/api/stork/"),S="dropbox:///",k="googledrive:/",C="ftp://",j="sftp://",x="gsiftp://",P="left",T={dropbox:"DropBox",googledrive:"GoogleDrive",ftp:"FTP",sftp:"SFTP",http:"HTTP",gsiftp:"GridFTP",scp:"SCP"},D={dropbox:S,googledrive:k,ftp:C,sftp:j,http:"http://",gsiftp:x,scp:"scp://"};function I(e){return D[e.uri.split(":")[0].toLowerCase()]}function B(e){return D[e.split(":")[0].toLowerCase()]}var F="LOGIN";var A="PROMOTE";var N="LOGOUT";function L(){return{type:N}}var z="ENDPOINT_PROGRESS";var R="ENDPOINT_UPDATE";function _(e,t){return{type:R,side:e,endpoint:t}}var U=a(7),M=a(10),W=a.n(M),V=a(23),H=a(267),q=a.n(H),J=(a(342),{id:"left",title:"",path:[],tasks:[],ids:[null],selectedTasks:[]}),G={id:"right",title:"",path:[],tasks:[],ids:[null],selectedTasks:[]},K=null;function Y(e){return"left"==e.side?J.ids.map(function(t,a){return{id:J.ids[a],path:X(e.uri,J.path,a)}}):G.ids.map(function(t,a){return{id:G.ids[a],path:X(e.uri,G.path,a)}})}function Q(e){return"left"==e.side?J.ids:G.ids}function X(e,t,a){return 0===a||0===t.length?e:$(e,t.slice(0,a),"")}function Z(e){K=e}function $(e,t,a){var n;return n=0==t.length?e:e+("/"===e[e.length-1]?"":"/")+t.reduce(function(e,t){return e+"/"+t}),n+=0===a.length||"/"==n[n.length-1]?a:"/"+a}function ee(){return{left:J,right:G}}function te(e){return ee()[e]}function ae(e){e&&(e.left&&(J.tasks=e.left.tasks),e.right&&(G.tasks=e.right.tasks),"left"==e.fromTo[1].id?J.selectedTasks=e.selectedTasks:G.selectedTasks=e.selectedTasks,Di.emit("fileChange",null,null))}function ne(e,t){J.selectedTasks=e,G.selectedTasks=t,Di.emit("fileChange",null,null)}function re(e){return"left"==e.side?J.selectedTasks:G.selectedTasks}function ie(e,t){"left"==t.side?ne(e,G.selectedTasks):ne(J.selectedTasks,e)}function oe(e){return"left"==e.id?Ii.getState().endpoint1:Ii.getState().endpoint2}function le(){return{left:J.selectedTasks,right:G.selectedTasks}}function se(){return ne([],[]),[]}var ce=a(343),de={login:!!ce.get("email"),admin:!1,email:ce.get("email")||"noemail",publicKey:ce.get("publicKey")||null,hash:ce.get("hash")||null,endpoint1:ce.get("endpoint1")?JSON.parse(ce.get("endpoint1")):{login:!1,credential:{},uri:"",side:"left"},endpoint2:ce.get("endpoint2")?JSON.parse(ce.get("endpoint2")):{login:!1,credential:{},uri:"",side:"right"},queue:[],transferOptions:{useTransferOptimization:"NONE",overwriteExistingFiles:!0,verifyFileInterity:!1,encryptDataChannel:!1,compressDataChannel:!1}};var ue=q.a.create({timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function me(e,t){var a=Math.floor(e.status/100);if(a<3)t(e.data);else if(a<5)t("".concat(e.status," ").concat(e.statusText));else{if("PermissionDenied"==e.name&&Ii.getState().login&&window.confirm("You have been logged out. Login again?")&&Ii.dispatch(L()),408===e.status||"ECONNABORTED"===e.code)return void t("Timeout 10000ms");console.log(e);var n=JSON.stringify(e.response.data);t("500".concat(e.response.statusText," ").concat(n))}}function pe(){return(pe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:"verifyUser",email:t}).then(function(e){console.log("login response",e),200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(){return(he=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:"sendVerificationCode",email:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(){return(fe=Object(V.a)(W.a.mark(function e(t,a,n,r){var i;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,ue.post(O+"user",{action:"verifyCode",email:t,code:a}).then(function(e){200!==e.status&&(i=r),me(e,i)}).catch(function(e){me(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(){return(ge=Object(V.a)(W.a.mark(function e(t,a,n,r,i,o){var l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=i,ue.post(O+"user",{action:"setPassword",email:t,code:a,password:n,confirmPassword:r}).then(function(e){200!==e.status&&(l=o),me(e,l)}).catch(function(e){me(e,o)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function be(){return(be=Object(V.a)(W.a.mark(function e(t){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(O+"user",{action:"resendVerificationCode",email:t}).then(function(e){return e}).catch(function(e){}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(){return(ye=Object(V.a)(W.a.mark(function e(t,a,n,r){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(O+"user",{action:"setPassword",email:t,code:a,password:n,confirmPassword:r}).then(function(e){if(200!==e.status)throw new Error("Failed to set password for users account");return e}).catch(function(e){return{status:500}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(){return(Ee=Object(V.a)(W.a.mark(function e(t,a,n,r){var i;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,ue.post(O+"user",{action:"login",email:t,password:a}).then(function(e){200!==e.status&&(i=r),me(e,i)}).catch(function(e){me(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(){return(ve=Object(V.a)(W.a.mark(function e(t,a,n,r){var i;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,ue.post(O+"user",{action:"isAdmin",email:t,hash:a}).then(function(e){200!==e.status&&(i=r),me(e,i)}).catch(function(e){me(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(e,t,a){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:"history",uri:encodeURI(t)}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e,t,a){return ke.apply(this,arguments)}function ke(){return(ke=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"globus",{action:"endpointId",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(){return(Ce=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"globus",{action:"endpoint",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(){return(je=Object(V.a)(W.a.mark(function e(t,a,n,r,i){var o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,ue.post(O+"globus",{action:"endpointActivate",globusEndpoint:t,username:a,password:n}).then(function(e){200!==e.status&&(o=i),me(e,o)}).catch(function(e){me(e,i)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xe(){return(xe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:"deleteHistory",uri:encodeURI(t)}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(){return(Pe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"globus",{action:"deleteEndpointId",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e,t){return De.apply(this,arguments)}function De(){return(De=Object(V.a)(W.a.mark(function e(t,a){var n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,ue.get(O+"cred?action=list").then(function(e){200!==e.status&&(n=a),me(e,n)}).catch(function(e){me(e,a)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ie(e,t,a,n,r,i,o){return Be.apply(this,arguments)}function Be(){return(Be=Object(V.a)(W.a.mark(function e(t,a,n,r,i,o,l){var s;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=o,ue.post(O+"q",{status:t?"all":"userJob",pageNo:a,pageSize:n,sortBy:r,sortOrder:i}).then(function(e){200!==e.status&&(s=l),me(e,s)}).catch(function(e){l(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(){return(Fe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"ticket",t).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){n(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ae(){return(Ae=Object(V.a)(W.a.mark(function e(t,a,n,r,i,o,l){var s,c,d;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=o,console.log(t),c=Object.assign({},t),d=Object.assign({},n),0==Object.keys(c.credential).length&&delete c.credential,0==Object.keys(d.credential).length&&delete d.credential,ue.post(O+"submit",{src:Object(U.a)({},c,{type:I(c),map:Y(a)}),dest:Object(U.a)({},d,{type:I(d),map:Y(r)}),options:i}).then(function(e){200!==e.status&&(s=l),me(e,s)}).catch(function(e){me(e,l)});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(e,t,a,n,r){return Le.apply(this,arguments)}function Le(){return(Le=Object(V.a)(W.a.mark(function e(t,a,n,r,i){var o,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o={uri:encodeURI(t),depth:1,id:n,type:B(t)},o=Object.keys(a.credential).length>0?Object(U.a)({},o,{credential:a.credential}):o,l=r,ue.post(O+"ls",JSON.stringify(o)).then(function(e){200!==e.status&&(l=i),me(e,l)}).catch(function(e){me(e,i)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(){return(ze=Object(V.a)(W.a.mark(function e(t,a,n,r,i){var o,l,s;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,l=Q(n),s=l[l.length-1],ue.post(O+"mkdir",{credential:n.credential,uri:encodeURI(t),id:s,type:a,map:Y(n)}).then(function(e){200!==e.status&&(o=i),me(e,o)}).catch(function(e){me(e,i)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(){return(Re=Object(V.a)(W.a.mark(function e(t,a,n,r,i){var o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,ue.post(O+"delete",{credential:a.credential,uri:encodeURI(t),id:n,type:B(t),map:Y(a)}).then(function(e){200!==e.status&&(o=i),me(e,o)}).catch(function(e){me(e,i)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(e,t,a){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(V.a)(W.a.mark(function e(t,a,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(O+"download",{type:B(t),credential:a,uri:encodeURI(t),id:n}).then(function(e){if(200===e.status)return e.data;console.log("Error in download API call")}).catch(function(e){console.log("Error encountered while generating download link")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(){return(Me=Object(V.a)(W.a.mark(function e(t,a,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(t,a,n).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(){return(We=Object(V.a)(W.a.mark(function e(t,a,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(t,a,n).then(function(e){""!==e?window.open(e):console.log("Error encountered while generating download link")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(){return(Ve=Object(V.a)(W.a.mark(function e(t,a,n,r){var i,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i={credential:a,type:B(t),uri:encodeURI(t),id:n},o=JSON.stringify(i),ce.set("SFTPAUTH",o,{maxAge:1}),window.location=O+"download/file";case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(e,t,a){return qe.apply(this,arguments)}function qe(){return(qe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Je(){return(Je=Object(V.a)(W.a.mark(function e(t,a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.put(O+"user",{action:"updateAdminRights",email:t,isAdmin:a}).then(function(e){return 200===e.status}).catch(function(e){console.log("Error encountered while updating the user.")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(){return(Ge=Object(V.a)(W.a.mark(function e(t,a,n,r,i){var o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,ue.post(O+"user",{action:"resetPassword",password:t,newPassword:a,confirmPassword:n}).then(function(e){200!==e.status&&(o=i),me(e,o),Ii.dispatch(L())}).catch(function(e){i(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(){return(Ke=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,fetch(O+"cancel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_id:t})}).then(function(e){e.ok||(r=n),me(e,r)}).catch(function(e){n(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ye(){return(Ye=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"user",{action:"deleteCredential",uuid:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(){return(Qe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"restart",{job_id:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xe(){return(Xe=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,ue.post(O+"deleteJob",{job_id:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ze(){return $e.apply(this,arguments)}function $e(){return($e=Object(V.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:rt("/api/stork/oauth?type=dropbox");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(V.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:rt("/api/stork/oauth?type=googledrive");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(){return nt.apply(this,arguments)}function nt(){return(nt=Object(V.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:rt("/api/stork/oauth?type=gridftp");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e){return it.apply(this,arguments)}function it(){return(it=Object(V.a)(W.a.mark(function e(t){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.open(t,"oAuthWindow");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(){return(ot=Object(V.a)(W.a.mark(function e(t,a,n,r){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(O+"user",{action:"register",email:t,firstName:a,lastName:n,organization:r}).then(function(e){if(e.data&&e.data.status&&302==e.data.status)return console.log("User already exists"),{status:302};if(200!==e.status)throw new Error("Failed to register user");return e}).catch(function(e){return console.error("Error while registering user"),{status:500}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(){return(lt=Object(V.a)(W.a.mark(function e(t,a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(O+"user",{action:"verifyCode",email:t,code:a}).then(function(e){return e}).catch(function(e){return console.error("Error while verifying the registration code"),{status:500}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(){return(st=Object(V.a)(W.a.mark(function e(t,a,n){var r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,e.abrupt("return",ue.post(O+"globus",{action:"endpoint_list",filter_fulltext:t}).then(function(e){200!==e.status&&(r=n),me(e,r)}).catch(function(e){me(e,n)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={login:Ii.getState().login,email:Ii.getState().email,admin:Ii.getState().admin},a.state.login&&function(e,t,a,n){ve.apply(this,arguments)}(Ii.getState().email,Ii.getState().hash,function(e){e?Ii.dispatch({type:A}):console.log("not admin")},function(e){console.log(e)}),a.unsubscribe=Ii.subscribe(function(){a.setState({login:Ii.getState().login,email:Ii.getState().email,admin:Ii.getState().admin})}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(m.a,{inverse:!0,collapseOnSelect:!0,fixedTop:!0,className:"navbar_navbar",id:"navbar"},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Brand,null,r.a.createElement(g.a,{to:"/"},"OneDataShare")),r.a.createElement(m.a.Toggle,null)),r.a.createElement(m.a.Collapse,null,this.state.login&&r.a.createElement(p.a,null,r.a.createElement(h.a,{componentClass:g.a,href:"/transfer",to:"/transfer"},"Transfer"),r.a.createElement(h.a,{componentClass:g.a,href:"/queue",to:"/queue"},"Queue"),this.state.admin&&r.a.createElement(f.a,{title:"Admin",id:"Navbar Dropdown"},r.a.createElement(h.a,{componentClass:g.a,to:"/clientsInfo",href:"/clientsInfo"},"Clients Information"),r.a.createElement(h.a,{componentClass:g.a,to:"/history",href:"/history"},"History"))),r.a.createElement(p.a,{pullRight:!0},this.state.login&&r.a.createElement(h.a,{componentClass:g.a,to:"/user",href:"/user"},this.state.email),!this.state.login&&r.a.createElement(h.a,{componentClass:g.a,to:"/account",href:"/account"},"Sign in"),!this.state.login&&r.a.createElement(h.a,{componentClass:g.a,to:"/account/register",href:"/account/register"},"Register"),this.state.login&&r.a.createElement(h.a,{onClick:function(){Ii.dispatch(L())}},r.a.createElement("span",null,"Log out")),r.a.createElement(h.a,{component:g.a,href:"/support"},r.a.createElement(v.a,{title:"Report an issue",placement:"top"},r.a.createElement(y.a,null))))))}}]),t}(n.Component),dt=a(644),ut=a(645),mt=a(646),pt=a(647),ht=a(275),ft=a.n(ht),gt=a(276),bt=a.n(gt),yt=a(277),Et=a.n(yt),vt=a(278),wt=a.n(vt),Ot=a(279),St=a.n(Ot),kt=a(280),Ct=a.n(kt),jt=a(281),xt=a.n(jt),Pt=a(282),Tt=a.n(Pt),Dt={color:"white",fontSize:"1.2em",textAlign:"left"},It=Object(U.a)({},Dt,{fontWeight:200,fontSize:"4em"}),Bt={margin:"8vw"},Ft=Object(U.a)({},Dt,{fontSize:"1.5em"}),At={background:"#579",padding:"8vw",width:"100%",margin:0},Nt=Object(U.a)({},Dt,{fontSize:"2em"}),Lt=Object(U.a)({},Dt,{fontSize:"1.1em"});function zt(e){e.className;var t=e.style,a=e.onClick;return r.a.createElement("div",{className:"slick-next",style:Object(U.a)({},t),onClick:a},r.a.createElement(dt.a,{glyph:"chevron-right",style:{fontSize:"50px",color:"white"}}))}function Rt(e){e.className;var t=e.style,a=e.onClick;return r.a.createElement("div",{className:"slick-prev",style:Object(U.a)({},t),onClick:a},r.a.createElement(dt.a,{glyph:"chevron-left",style:{fontSize:"50px",color:"white"}}))}var _t=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,appendDots:function(e){return r.a.createElement("ul",{style:{bottom:"8%",zIndex:1}},e)},nextArrow:r.a.createElement(zt,null),prevArrow:r.a.createElement(Rt,null),autoplay:!1,responsive:[{breakpoint:500,settings:{arrows:!1}}]};return r.a.createElement(ut.a,null,r.a.createElement(ft.a,e,r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section1"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"OneDataShare\xa0",r.a.createElement("sup",{title:"Beta"},"\u03b2")),r.a.createElement("p",{style:Ft},"OneDataShare is a reliable and fast data movement service in the cloud."),r.a.createElement("h4",{style:Dt},"We aim to deliver:"),r.a.createElement("ul",{style:Dt},r.a.createElement("li",null,"Robust multi-protocol data transfer as a service"),r.a.createElement("li",null,"Remote file browsing in your web browser"),r.a.createElement("li",null,"Advanced transfer optimization algorithms"))))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section2"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"Decreased Uncertainty in Real-time Decision-Making Processes."),r.a.createElement("p",{style:Ft},"OneDataShare\u2019s data throughput and delivery time prediction service will eliminate possible long delays in completion of a transfer operation and increase utilization of end-system and network resources by giving an opportunity to provision these resources in advance with great accuracy.")))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section3"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"Reduced Time to the Delivery of Data"),r.a.createElement("p",{style:Ft},"OneDataShare reduces the time to the delivery of data, and drastically increases the end-to-end performance of data-intensive applications relying on remote data sources.")))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section4"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"Interoperation Across Heterogeneous Data Resources"),r.a.createElement("p",{style:Ft},"OneDataShare provides interoperation across heterogeneous data resources and on-the-fly translation between different data transfer protocols. Sharing data between traditionally non-compatible data sources becomes very easy and convenient with OneDataShare.")))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section5"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"Fast, Scalable, and Flexible Data Sharing Made Easy"),r.a.createElement("p",{style:Ft},"OneDataShare makes the data readily available to the users and to their applications in the fastest and the most efficient way possible.")))),r.a.createElement("div",null,r.a.createElement(mt.a,{className:"homepage_section homepage_section6"},r.a.createElement(ut.a,{style:Bt},r.a.createElement("h1",{style:It},"End-to-end Data Sharing Solution"),r.a.createElement("p",{style:Ft},"Anything that requires high-volume data transfer, from real-time weather conditions and natural disasters to sharing genomic maps and real-time consumer behavior analysis, will benefit from OneDataShare."))))),r.a.createElement(pt.a,{style:At},r.a.createElement("img",{width:"300px",src:bt.a,style:{float:"left"}}),r.a.createElement("h3",{style:Nt},"Fast, Scalable, and Flexible Data Sharing Made Easy"),r.a.createElement("p",{style:Lt},"OneDataShare harnesses the power of the cloud and implements state-of-the-art frameworks to optimize data transfer scheduling. It enhances the speed of data transfer via multiple protocols by enabling faster data transfer across the network. OneDataShare utilizes the available bandwidth to the fullest by using many optimization mechanisms, thereby speeding up data transfer and lowering cost.")),r.a.createElement(pt.a,{style:At},r.a.createElement("img",{width:"300px",src:Et.a,style:{float:"left"}}),r.a.createElement("h3",{style:Nt},"Reduced Time to the Delivery of Data"),r.a.createElement("p",{style:Lt},"OneDataShare reduces the time to the delivery of data and drastically increases the end-to-end performance of data-intensive applications relying on remote data sources. It provides an end-to-end data transfer architecture which is reliable, fast and effective. The users are capable of reducing the burden of data transfer time through the use of OneDataShare.")),r.a.createElement(pt.a,{style:At},r.a.createElement("img",{width:"300px",src:Ct.a,style:{float:"left"}}),r.a.createElement("h3",{style:Nt},"Interoperation Across Heterogeneous Data Resources"),r.a.createElement("p",{style:Lt},"By using OneDatashare, users can transfer their data across multiple protocols and platforms without having to worry about protocol translation. OneDataShare takes care of the protocol translation across multiple users ends and it provides a user-friendly field to translate data across multiple instances and ensures effective compatibility and platform independence as data gets transferred from the newest to the oldest protocols and vice versa.")),r.a.createElement(pt.a,{style:At},r.a.createElement("img",{width:"300px",src:St.a,style:{float:"left"}}),r.a.createElement("h3",{style:Nt},"Decreased Uncertainty in Real-time Decision-Making Processes."),r.a.createElement("p",{style:Lt},"Delays over transmission of large data sets are eliminated by using OneDataShare. The desirable data delivery throughput of OneDataShare will alleviate the issue of a long time of data transfer. Hence users will be able to experience faster data deposits across long distances which will, in turn, speed up their other processes regarding usage of the data. Also, it will provide the users with upfront information regarding their data transfers and arrivals, thereby enabling them to prepare in advance for data transfer and scheduling.")),r.a.createElement(pt.a,{style:At},r.a.createElement("img",{width:"300px",src:wt.a,style:{float:"left"}}),r.a.createElement("h3",{style:Nt},"End-to-end Data Sharing Solution"),r.a.createElement("p",{style:Lt},"OneDataShare is capable of transferring high-volume data of data like real-time weather predictions and conditions and natural disasters to sharing genomic maps and consumer behavior statistics for business intelligence, climate change data or geographic data from any Management Information System (MIS) from anywhere in the world.")),r.a.createElement(pt.a,{style:Object(U.a)({},At,{backgroundColor:"white"})},r.a.createElement("img",{width:"150px",src:xt.a,style:{float:"left"}}),r.a.createElement("img",{width:"150px",src:Tt.a,style:{float:"left"}})))}}]),t}(n.Component),Ut=a(657),Mt=a(656),Wt=a(654),Vt=a(36),Ht=a(6),qt=a(650),Jt=a(12),Gt=a.n(Jt),Kt=a(49),Yt=a.n(Kt),Qt=a(58),Xt=a(312);function Zt(){return window.innerWidth<=760}var $t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(Xt.a)(r,1)[0];return n.splice(a,0,i),n},ea=function(e,t){return Object(U.a)({},e,{tasks:t})},ta=function(e,t){return e[Object.keys(e).find(function(a){return e[a].tasks.includes(t)})]},aa=function(e,t,a){if(!t.length)return[a];if(null==e)return t;var n=e.tasks.indexOf(a),r=t[t.length-1],i=e.tasks.indexOf(r);if(n===i)return[];var o=n>i,l=o?i:n,s=o?n:i,c=e.tasks.slice(l,s+1).filter(function(e){return!t.includes(e)}),d=o?c:Object(Qt.a)(c).reverse();return[].concat(Object(Qt.a)(t),Object(Qt.a)(d))},na=function(e){return e.selectedTasks.left.length+e.selectedTasks.right.length>1?ra(e):function(e){var t,a=e.entities,n=e.selectedTasks,r=e.source,i=e.destination;if(r.droppableId===i.droppableId){var o=te(r.droppableId),l=$t(o.tasks,r.index,i.index),s=o.tasks[r.index],c=Object(U.a)({},a,Object(Vt.a)({},o.id,ea(o,l))),d=n[r.droppableId];return 0==d.length&&d.push(s),Object(U.a)({},c,{selectedTasks:d,fromTo:[o,o]})}var u=te(r.droppableId),m=te(i.droppableId),p=u.tasks[r.index],h=Object(Qt.a)(u.tasks),f=Object(Qt.a)(m.tasks);f.find(function(e){return e.name==p.name})||f.splice(i.index,0,p);var g=Object(U.a)({},a,(t={},Object(Vt.a)(t,u.id,ea(u,h)),Object(Vt.a)(t,m.id,ea(m,f)),t)),b=n[r.droppableId];return 0==b.length&&b.push(p),Object(U.a)({},g,{selectedTasks:b,fromTo:[u,m]})}(e)},ra=function(e){var t,a=e.entities,n=e.selectedTasks,r=e.source,i=e.destination,o=te(r.droppableId),l=o.tasks[r.index],s=n[r.droppableId];s.sort(function(e,t){if(e===l)return-1;if(t===l)return 1;var n=ta(a,e).tasks.indexOf(e),r=ta(a,t).tasks.indexOf(t);return n!==r?n-r:-1}),n[i.droppableId]=[];var c=i.index,d=JSON.parse(JSON.stringify(o)),u=Object.keys(a).reduce(function(e,t){var n=a[t].tasks.filter(function(e){return!Boolean(s.find(function(t){return t.name===e.name}))});return e[t].tasks=n,e},a),m=u[i.droppableId],p=(a[r.droppableId],function(){var e,t=Object(U.a)({},m);return(e=t.tasks).splice.apply(e,[c,0].concat(Object(Qt.a)(s))),t}()),h=Object(U.a)({},u,(t={},Object(Vt.a)(t,d.id,d),Object(Vt.a)(t,m.id,ea(m,p.tasks)),t)),f=Object(U.a)({},a,h),g=r.droppableId===i.droppableId?[p,p]:[d,p];return Object(U.a)({},f,{selectedTasks:s,fromTo:g})},ia=a(193),oa=a(286),la=a.n(oa),sa=a(287),ca=a.n(sa),da=a(288),ua=a.n(da),ma=a(85),pa=a(194);function ha(){var e=Object(ia.a)(["\n  left: -","px;\n  top: -","px;\n  color: ",";\n  background: ",";\n  border-radius: 50%;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  position: absolute;\n  text-align: center;\n  font-size: 1.8rem;\n"]);return ha=function(){return e},e}function fa(){var e=Object(ia.a)(["\n  outline: none;\n  user-select: none;\n  background-color: ",";\n  color: ",",\n  display: flex;\n  flex-direction: column; \n  padding: 5px;\n  "," ","\n"]);return fa=function(){return e},e}var ga=pa.a.div(fa(),function(e){return ba(e.isSelected)},function(e){return ya(e.isSelected)},function(e){return e.isDragging?"box-shadow: 2px 2px 1px ".concat("#333",";"):""},function(e){return e.isGhosting?"opacity: 0.2;":""}),ba=function(e,t){return t?"#888":e?"#d9edf7":"#ffffff"},ya=function(e,t){return t?"#888":e?"#31708f":"#333333"},Ea={enter:13,escape:27,arrowDown:40,arrowUp:38,tab:9},va=Object(pa.a)("div")(ha(),15,15,"#fff","#337ab7",30,30,30),wa=0,Oa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onKeyDown=function(e,t,n){if(t.dragHandleProps&&t.dragHandleProps.onKeyDown(e),!e.defaultPrevented&&!n.isDragging&&e.keyCode===Ea.enter){e.preventDefault();var r=e.metaKey,i=e.shiftKey;a.performAction(r,i)}},a.onClick=function(e){if(!e.defaultPrevented&&e.button===wa){e.preventDefault();var t=e.metaKey,n=e.shiftKey;a.performAction(t,n)}},a.onTouchStart=function(e){a.setState({dragging:!1})},a.onTouchMove=function(e){a.setState({dragging:!0})},a.onTouchEnd=function(e){if(!e.defaultPrevented&&!a.state.dragging)return e.preventDefault(),a.props.toggleSelectionInGroup(a.props.file),!1},a.performAction=function(e,t){var n=a.props,r=(n.file,n.toggleSelection),i=n.toggleSelectionInGroup,o=n.multiSelectTo;e?i(a.props.file):t?o(a.props.file):r(a.props.file)},a.humanFileSize=a.humanFileSize.bind(Object(Ht.a)(Object(Ht.a)(a))),a.state={isDragging:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isSelected!==this.props.isSelected||e.isGhosting!==this.props.isGhosting||e.file!==this.props.file}}]),Object(s.a)(t,[{key:"humanFileSize",value:function(e){if(Math.abs(e)<1024)return e+" B";var t=["kB","MB","GB","TB","PB","EB","ZB","YB"],a=-1;do{e/=1024,++a}while(Math.abs(e)>=1024&&a<t.length-1);return e.toFixed(1)+" "+t[a]}},{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=(t.side,t.onClick,t.onDoubleClick),i=t.isSelected,o=t.isGhosting,l=t.endpoint,s=this.props.file,c=s.name,d=s.dir,u=s.perm,m=s.time,p=s.size,h=(s.children,this.state.isDragging,0!=m||u||0!=p),f={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},g=new Date(1e3*m);return r.a.createElement(ma.b,{draggableId:l.side+" "+JSON.stringify(this.props.file),index:a},function(t,a){var s=function(e){return"left"==e.side?J.selectedTasks.length:G.selectedTasks.length}(l),b=a.isDragging&&s>1;return r.a.createElement(ga,Object.assign({onDoubleClick:function(){d&&n(e.props.file.name,e.props.file.id)}},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,onClick:e.onClick,onTouchEnd:function(t){e.onTouchEnd(t)},onTouchStart:function(t){e.onTouchStart(t)},onTouchMove:function(t){e.onTouchMove(t)},onKeyDown:function(n){return e.onKeyDown(n,t,a)},isSelected:i,isGhosting:b&&o}),r.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"row",justifyContent:"flex-start"}},d&&r.a.createElement(la.a,null),!d&&r.a.createElement(ca.a,null),r.a.createElement("p",{style:{marginLeft:"10px",flexGrow:1,textAlign:"left"}}," ",c," "),d&&Zt()&&r.a.createElement(Gt.a,{style:{width:"40px",float:"right"},onTouchStart:function(){n(e.props.file.name)}},r.a.createElement(ua.a,null))),b&&r.a.createElement(va,null,s),h&&r.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"row",justifyContent:"space-between"}},0!=m&&r.a.createElement("p",{style:{fontSize:"10px",color:"#444"}},new Intl.DateTimeFormat("en-US",f).format(g)," "),u&&r.a.createElement("p",null," ",u," "),0!=p&&r.a.createElement("p",{style:{fontSize:"10px",color:"#444"}}," ",e.humanFileSize(p)," ")))})}}]),t}(n.Component),Sa=a(293),ka=a.n(Sa),Ca=a(295),ja=a.n(Ca),xa=a(294),Pa=a.n(xa),Ta=a(296),Da=a.n(Ta),Ia=a(297),Ba=a.n(Ia),Fa=a(298),Aa=a.n(Fa),Na=a(146),La=a.n(Na),za=a(32),Ra=a.n(za),_a=a(101),Ua=a.n(_a),Ma=a(104),Wa=a.n(Ma),Va=a(103),Ha=a.n(Va),qa=a(122),Ja=a.n(qa),Ga=a(102),Ka=a.n(Ga),Ya=a(289),Qa=a.n(Ya),Xa=a(290),Za=a.n(Xa),$a=a(648),en=a(658),tn=a(272),an=a(655),nn=a(144),rn=a(291),on=function(e){function t(e){var a,n;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggleSelection=function(e){var t=a.props.endpoint,n=re(t);ie(n.includes(e)?n.length>1?[e]:[]:[e],t)},a.toggleSelectionInGroup=function(e){var t=a.props.endpoint,n=re(t),r=n.indexOf(e);if(-1!==r){var i=Object(Qt.a)(n);i.splice(r,1),ie(i,t)}else ie([].concat(Object(Qt.a)(n),[e]),t)},a.multiSelectTo=function(e){var t=a.props.endpoint,n=aa(ee()[t.side],re(t),e);console.log(n),null!=n&&ie(n,t)},a.unselectAll=function(){se()},a.onWindowKeyDown=function(e){e.defaultPrevented||"Escape"===e.key&&a.unselectAll()},a.onWindowClick=function(e){e.defaultPrevented},a.onWindowTouchEnd=function(e){e.defaultPrevented},a.handleClickOpen=function(e){a.setState({openShare:!0,shareUrl:e})},a.handleClickOpenAddFolder=function(){a.setState({openAFolder:!0})},a.handleClose=function(){a.setState({openShare:!1,openAFolder:!1})},a.handleCloseWithFolderAdded=function(){var e=a.props,t=e.endpoint,n=e.setLoading,r=a.state,i=r.directoryPath,o=r.addFolderName,l=r.ids;a.setState({openShare:!1,openAFolder:!1});var s=$(t.uri,i,o),c=I(t);I(t)===k&&(s=o),function(e,t,a,n,r){ze.apply(this,arguments)}(s,c,t,function(e){n(!0),a.getFilesFromBackendWithPath(t,i,l)},function(e){a._handleError(e)})},a._handleError=function(e){Di.emit("errorOccured",e)},a._handleConfirmation=function(e){return window.confirm(e)},a._handleAddFolderTextFieldChange=function(e){a.setState({addFolderName:e.target.value})},a.handleCloseWithFileDeleted=function(e){var t=a.props,n=t.endpoint,r=t.setLoading,i=a.state,o=i.directoryPath,l=i.ids,s=e.length,c=0;a._handleConfirmation("Are you sure you want to delete"+e.reduce(function(e,t){return e+"\n"+t.name},""))&&(r(!0),e.map(function(e){var t=$(n.uri,o,e.name);console.log("delete before success",o,l),function(e,t,a,n,r){Re.apply(this,arguments)}(t,n,e.id,function(e){console.log("delete after success",o,l),++c==s&&a.getFilesFromBackendWithPath(n,o,l)},function(e){a._handleError(e)})}))},a.state={route:"",directoryPath:(n=e.endpoint,"left"==n.side?J.path:G.path),ids:Q(e.endpoint),openShare:!1,shareUrl:"",openAFolder:!1,addFolderName:""},a.getFilesFromBackend=a.getFilesFromBackend.bind(Object(Ht.a)(Object(Ht.a)(a))),a.fileNodeDoubleClicked=a.fileNodeDoubleClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a.getFilesFromBackendWithPath=a.getFilesFromBackendWithPath.bind(Object(Ht.a)(Object(Ht.a)(a))),a.breadcrumbClicked=a.breadcrumbClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a.fileNodeClicked=a.fileNodeClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a.toggleSelection=a.toggleSelection.bind(Object(Ht.a)(Object(Ht.a)(a))),a.toggleSelectionInGroup=a.toggleSelectionInGroup.bind(Object(Ht.a)(Object(Ht.a)(a))),a.multiSelectTo=a.multiSelectTo.bind(Object(Ht.a)(Object(Ht.a)(a))),a.onWindowTouchEnd=a.onWindowTouchEnd.bind(Object(Ht.a)(Object(Ht.a)(a))),a.onWindowKeyDown=a.onWindowKeyDown.bind(Object(Ht.a)(Object(Ht.a)(a))),a.onWindowClick=a.onWindowClick.bind(Object(Ht.a)(Object(Ht.a)(a))),a.fileChangeHandler=a.fileChangeHandler.bind(Object(Ht.a)(Object(Ht.a)(a))),a._handleAddFolderTextFieldChange=a._handleAddFolderTextFieldChange.bind(Object(Ht.a)(Object(Ht.a)(a))),0==a.state.directoryPath.length&&a.getFilesFromBackend(e.endpoint),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onWindowClick),window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("touchend",this.onWindowTouchEnd),Di.on("fileChange",this.fileChangeHandler)}},{key:"fileChangeHandler",value:function(){this.forceUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick),window.removeEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("touchend",this.onWindowTouchEnd)}},{key:"fileNodeClicked",value:function(e){}},{key:"fileNodeDoubleClicked",value:function(e,t){this.props.setLoading(!0),this.getFilesFromBackendWithPath(this.props.endpoint,[].concat(Object(Qt.a)(this.state.directoryPath),[e]),[].concat(Object(Qt.a)(this.state.ids),[t])),this.unselectAll()}},{key:"breadcrumbClicked",value:function(e){this.props.setLoading(!0),this.state.directoryPath.length=e,this.state.ids.length=e+1,this.getFilesFromBackendWithPath(this.props.endpoint,this.state.directoryPath,this.state.ids)}},{key:"getFilesFromBackend",value:function(e){this.getFilesFromBackendWithPath(e,[],[null])}},{key:"getFilesFromBackendWithPath",value:function(e,t,a){var n=this,r=e.uri,i=this.props.setLoading;i(!0),Ne(r=$(r,t,""),e,a[a.length-1],function(r){!function(e,t,a,n){"left"==n.side?(J.tasks=e,J.title=n.uri,J.path=t,J.ids=a):(G.tasks=e,G.title=n.uri,G.path=t,G.ids=a)}(r.files,t,a,e),n.setState({directoryPath:t,ids:a}),i(!1)},function(e){n._handleError(e),i(!1)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.endpoint,n=t.back,i=t.setLoading,o=t.getLoading,l=this.state.directoryPath,s=new Za.a({debug:!0,options:{chunking:{enabled:!0,partSize:5e5,concurrent:{enabled:!1}},request:{endpoint:"/api/stork/upload",params:{directoryPath:encodeURI($(a.uri,l,"")),credential:JSON.stringify(a.credential),id:this.state.ids[this.state.ids.length-1],map:JSON.stringify(Y(a))}},retry:{enableAuto:!0},callbacks:{onError:function(e,t,a,n){console.log("error occurred - "+a)}}}}),c=function(e){return"left"==e.side?J.tasks:G.tasks}(a)||[],d={fontSize:"15px",width:"100%"},u={flexGrow:1,padding:"5px"},m=re(a),p=o(),h=function(e){return r.a.createElement($a.a,{id:"tooltip"},e)};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:"100%",maxHeight:"400px"}},r.a.createElement(Ua.a,{open:this.state.openShare,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ka.a,{id:"form-dialog-title"},"Share"),r.a.createElement(Ha.a,{style:{width:"100%"}},r.a.createElement(Ja.a,null,"Share this URL to allow others access to the selected file:"),r.a.createElement("div",{style:{width:"96%",float:"left"}},r.a.createElement(Ra.a,{autoFocus:!0,id:"name",disabled:!0,value:this.state.shareUrl,fullWidth:!0})),r.a.createElement(rn.CopyToClipboard,{text:this.state.shareUrl,style:{float:"right",width:"3%"}},r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})))),r.a.createElement(Wa.a,null,r.a.createElement(Gt.a,{onClick:this.handleClose,color:"primary"},"Close"))),r.a.createElement(Ua.a,{open:this.state.openAFolder,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ka.a,{id:"form-dialog-title"},"Add folder"),r.a.createElement(Ha.a,null,r.a.createElement(Ra.a,{autoFocus:!0,id:"name",label:"name",onChange:this._handleAddFolderTextFieldChange,fullWidth:!0})),r.a.createElement(Wa.a,null,r.a.createElement(Gt.a,{onClick:this.handleCloseWithFolderAdded,color:"primary"},"Add"))),r.a.createElement("div",{style:{display:"flex",alighSelf:"stretch",height:"60px",backgroundColor:"#d9edf7",width:"100%",overflowX:"scroll",overflowY:"hidden"}},r.a.createElement(en.a,{style:{float:"left",backgroundColor:"#d9edf7",whiteSpace:"nowrap"}},r.a.createElement(en.a.Item,{key:a.uri,style:{display:"inline-block"}},r.a.createElement(Gt.a,{style:{padding:"0px",margin:"0px"},onClick:function(){return e.breadcrumbClicked(0)}},a.uri)),l.map(function(t,a){return r.a.createElement(en.a.Item,{key:t+a,style:{display:"inline-block"}},r.a.createElement(Gt.a,{style:{padding:"0px",margin:"0px"},onClick:function(){return e.breadcrumbClicked(a+1)}},t))}))),r.a.createElement("div",{style:{alignSelf:"stretch",display:"flex",flexDirection:"row",alignItems:"center",height:"40px",padding:"10px",backgroundColor:"#d9edf7"}},r.a.createElement(tn.a,{style:{display:"flex",flexDirection:"row",flexGrow:2}},r.a.createElement(an.a,{placement:"top",overlay:h("New Folder")},r.a.createElement(nn.a,{style:u,onClick:function(){e.handleClickOpenAddFolder()}},r.a.createElement(ka.a,{style:d}))),r.a.createElement(an.a,{placement:"top",overlay:h("Upload")},r.a.createElement(Qa.a,{uploader:s,style:u},r.a.createElement(nn.a,{disabled:!1},r.a.createElement(Pa.a,{style:d})))),r.a.createElement(an.a,{placement:"top",overlay:h("Delete")},r.a.createElement(nn.a,{disabled:re(a).length<1,onClick:function(){e.handleCloseWithFileDeleted(re(a))},style:u},r.a.createElement(ja.a,{style:d}))),r.a.createElement(an.a,{placement:"top",overlay:h("Download")},r.a.createElement(nn.a,{disabled:1!=re(a).length||re(a)[0].dir,onClick:function(){var e=$(a.uri,l,re(a)[0].name),t=re(a);I(a)===j||"scp://"==I(a)?function(e,t,a,n){Ve.apply(this,arguments)}(e,a.credential,t[0].id):function(e,t,a){We.apply(this,arguments)}(e,a.credential,t[0].id)},style:u},r.a.createElement(Da.a,{style:d}))),r.a.createElement(an.a,{placement:"top",overlay:h("Share")},r.a.createElement(nn.a,{disabled:1!=re(a).length||re(a)[0].dir||!(I(a)===k||I(a)===S),style:u,onClick:function(){var t=$(a.uri,l,re(a)[0].name),n=re(a);(function(e,t,a){return Me.apply(this,arguments)})(t,a.credential,n[0].id).then(function(t){""!==t?e.handleClickOpen(t):Di.emit("errorOccured","Error encountered while generating link")})}},r.a.createElement(Ba.a,{style:d}))),r.a.createElement(an.a,{placement:"top",overlay:h("Refresh")},r.a.createElement(nn.a,{style:u,onClick:function(){i(!0),e.getFilesFromBackendWithPath(a,l,e.state.ids)}},r.a.createElement(La.a,{style:d}))),r.a.createElement(an.a,{placement:"top",overlay:h("Log out")},r.a.createElement(nn.a,{bsStyle:"primary",style:u,onClick:function(){!function(e){"left"==e.side?J={id:"left",title:"",path:[],tasks:[],ids:[null],previousTasks:[],selectedTasks:[]}:G={id:"right",title:"",path:[],tasks:[],ids:[null],previousTasks:[],selectedTasks:[]}}(a),e.unselectAll(),n()}},r.a.createElement(Aa.a,{style:d}))))),r.a.createElement(ma.c,{droppableId:a.side},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{style:{overflowY:"scroll",width:"100%",marginTop:"0px",height:"320px"}}),!p&&0==Object.keys(c).length&&r.a.createElement("h2",null,"This directory is EMPTY"),p&&0==Object.keys(c).length&&r.a.createElement("h2",null,"LOADING"),Object.keys(c).map(function(t,n){var i=c[t],o=Boolean(-1!=m.indexOf(i)),l=o&&Boolean(K)&&K.name!==i.name;return r.a.createElement(Oa,{key:t,index:n,file:i,selectionCount:m.length,onClick:e.fileNodeClicked,onDoubleClick:e.fileNodeDoubleClicked,side:a.side,isSelected:o,endpoint:a,isGhosting:l,toggleSelection:e.toggleSelection,toggleSelectionInGroup:e.toggleSelectionInGroup,multiSelectTo:e.multiSelectTo})}),t.placeHolder)}))}}]),t}(n.Component),ln=a(81),sn=a.n(ln),cn=a(56),dn=a.n(cn),un=a(86),mn=a.n(un),pn=a(61),hn=a.n(pn),fn=a(105),gn=a.n(fn),bn=a(158),yn=a.n(bn),En=a(110),vn=a.n(En),wn=a(300),On=a.n(wn),Sn=a(142),kn=a.n(Sn),Cn=a(48),jn=a.n(Cn),xn=a(93),Pn=a.n(xn),Tn=a(50),Dn=a.n(Tn),In=a(299),Bn=a.n(In),Fn={root:{padding:"2px 4px",display:"flex",alignItems:"center",paddingLeft:10,paddingRight:10},input:{marginLeft:8,flex:1,width:"90%"},iconButton:{padding:10},divider:{width:1,height:28,margin:4}},An=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={search_text:"",data:[],loading:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getEndpointListAsData",value:function(){var e=this,t=this.state.search_text;this.setState({loading:!0}),""!==t?function(e,t,a){st.apply(this,arguments)}(t,function(t){e.setState({data:t.DATA}),e.setState({loading:!1})},function(t){Di.emit("errorOccured",t),e.setState({loading:!1})}):Di.emit("errorOccured","Search Text should not be empty.")}},{key:"render",value:function(){var e=this,t=(this.props.close,this.state),a=t.search_text,n=t.loading,i=t.data;console.log(i);var o=i.map(function(t){return r.a.createElement(dn.a,{button:!0,key:t.canonical_name,style:{background:"white",height:40},onClick:function(){console.log("endpoint without detail",t),Se(t,function(a){e.props.endpointAdded(t)},function(e){Di.emit("errorOccured","Error Saving Your endpoint.")})}},r.a.createElement(hn.a,{primary:t.name,secondary:t.canonical_name}))});return r.a.createElement("div",{style:{width:300,height:400,backgroundColor:"white",borderWidth:"1px",borderColor:"#005bbb",borderRadius:2,borderStyle:"solid",overflow:"hidden"}},n&&r.a.createElement(Yt.a,null),r.a.createElement(jn.a,{style:Fn.root,elevation:0},r.a.createElement(Pn.a,{style:Fn.input,placeholder:"Search for Endpoints",value:a,onChange:function(t){e.setState({search_text:t.target.value})}}),r.a.createElement(Dn.a,{style:Fn.iconButton,"aria-label":"Search",onClick:function(t){e.getEndpointListAsData()}},r.a.createElement(Bn.a,null))),0===i.length&&r.a.createElement("h3",{style:{margin:"100px"}}," No Result "),r.a.createElement(sn.a,{component:"nav",style:{overflow:"auto",height:"100%"}},i.length>0&&o))}}]),t}(n.Component),Nn=a(108),Ln=a.n(Nn),zn=a(109),Rn=a.n(zn),_n=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).credentialListUpdateFromBackend=function(){a.props.setLoading(!0),Te(function(e){a.setState({credList:e}),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.endpointIdsListUpdateFromBackend=function(){a.props.setLoading(!0),Se({},function(e){a.setState({endpointIdsList:e}),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.historyListUpdateFromBackend=function(){a.props.setLoading(!0),we("",function(e){a.setState({historyList:e.filter(function(e){return 0==e.indexOf(a.props.endpoint.uri)})}),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a._handleError=function(e){Di.emit("errorOccured",e)},a.handleChange=function(e){return function(t){a.setState(Object(Vt.a)({},e,t.target.value))}},a.endpointCheckin=function(e,t,n){a.props.setLoading(!0);var r={uri:e,login:!0,side:a.props.endpoint.side,credential:t};Ne(e,r,null,function(t){we(e,function(e){console.log(e)},function(e){a._handleError(e)}),a.props.loginSuccess(r)},function(e){a.props.setLoading(!1),n(e)})},a.regularSignIn=function(){a.state.needPassword?a.endpointCheckin(a.state.url,{type:"userinfo",username:a.state.username,password:a.state.password},function(e){a._handleError("Authentication Failed")}):a.endpointCheckin(a.state.url,{},function(){a.setState({needPassword:!0})})},a.globusActivateSignin=function(){var e=a.state.endpointSelected;!function(e,t,a,n,r){je.apply(this,arguments)}(e,a.state.username,a.state.password,function(t){a.endpointModalLogin(e)},function(e){a._handleError("Authentication Failed")})},a.endpointModalAdd=function(e){a.props.setLoading(!0),Se({},function(t){a.state.endpointIdsList=t,a.endpointModalLogin(e),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.endpointModalLogin=function(e){"false"===e.activated?a.setState({settingAuth:!0,authFunction:a.globusActivateSignin,needPassword:!0,endpointSelected:e,selectingEndpoint:!1}):(a.setState({selectingEndpoint:!1}),a.endpointCheckin("gsiftp:///",{type:"globus",globusEndpoint:e},function(e){a._handleError("Authentication Failed")}))},a.state={historyList:e.history,endpoint:e.endpoint,credList:e.credentials||{},endpointIdsList:{},settingAuth:!1,settingAuthType:"",url:"",needPassword:!1,username:"",password:"",endpointSelected:{},selectingEndpoint:!1};var n=I(e.endpoint);return n===x?a.endpointIdsListUpdateFromBackend():n!==C&&n!==j||a.historyListUpdateFromBackend(),a.handleChange=a.handleChange.bind(Object(Ht.a)(Object(Ht.a)(a))),a._handleError=a._handleError.bind(Object(Ht.a)(Object(Ht.a)(a))),a.getEndpointListComponentFromList=a.getEndpointListComponentFromList.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getEndpointListComponentFromList",value:function(e){var t=this;this.state.endpoint,this.props.loginSuccess;return Object.keys(e).map(function(a){return r.a.createElement(dn.a,{button:!0,key:a,onClick:function(){!function(e,t,a){Ce.apply(this,arguments)}(e[a],function(e){t.endpointModalLogin(e)},function(e){t._handleError("Unable to get detail of this endpoint")})}},r.a.createElement(mn.a,null,r.a.createElement(yn.a,null)),r.a.createElement(hn.a,{primary:e[a].name,secondary:e[a].canonical_name}),r.a.createElement(Ln.a,null,r.a.createElement(Dn.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){Pe.apply(this,arguments)}(e[a],function(e){t.endpointIdsListUpdateFromBackend()},function(e){t._handleError("Delete Credential Failed")})}},r.a.createElement(Rn.a,null))))})}},{key:"getCredentialListComponentFromList",value:function(e,t){var a=this,n=this.state.endpoint,i=this.props.loginSuccess;return Object.keys(e).filter(function(a){return-1!=e[a].name.toLowerCase().indexOf(t.toLowerCase())&&!function(){var e=Ii.getState(),t=Object(U.a)({},e.endpoint1.credential,e.endpoint2.credential);return Object.keys(t).map(function(e){return t[e]})}().includes(a)}).map(function(t){return r.a.createElement(dn.a,{button:!0,key:t,onClick:function(){var a={uri:n.uri,login:!0,credential:{uuid:t,name:e[t].name},side:n.side};i(a)}},r.a.createElement(mn.a,null,r.a.createElement(yn.a,null)),r.a.createElement(hn.a,{primary:e[t].name}),r.a.createElement(Ln.a,null,r.a.createElement(Dn.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){Ye.apply(this,arguments)}(t,function(e){a.credentialListUpdateFromBackend()},function(e){a._handleError("Delete Credential Failed")})}},r.a.createElement(Rn.a,null))))})}},{key:"getHistoryListComponentFromList",value:function(e){var t=this;return e.map(function(e){return r.a.createElement(dn.a,{button:!0,key:e,onClick:function(){t.endpointCheckin(e,{},function(a){t._handleError("Please enter your credential."),t.setState({url:e,authFunction:t.regularSignIn,settingAuth:!0,needPassword:!0})})}},r.a.createElement(mn.a,null,r.a.createElement(yn.a,null)),r.a.createElement(hn.a,{primary:e}),r.a.createElement(Ln.a,null,r.a.createElement(Dn.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){xe.apply(this,arguments)}(e,function(e){t.historyListUpdateFromBackend()},function(e){t._handleError("Delete History Failed")})}},r.a.createElement(Rn.a,null))))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.historyList,n=t.endpoint,i=t.credList,o=t.settingAuth,l=t.authFunction,s=t.needPassword,c=t.endpointIdsList,d=t.selectingEndpoint,u=this.props,m=u.back,p=(u.loginSuccess,u.setLoading,n.uri,function(e){return T[e.uri.split(":")[0].toLowerCase()]}(n)),h=I(n),f=this.getHistoryListComponentFromList(a),g=this.getCredentialListComponentFromList(i,p),b=this.getEndpointListComponentFromList(c),y=function(){e.setState({selectingEndpoint:!1})};return r.a.createElement("div",null,!o&&r.a.createElement(sn.a,{component:"nav",style:{overflow:"auto"}},r.a.createElement(dn.a,{button:!0,onClick:function(){m()}},r.a.createElement(mn.a,null,r.a.createElement(vn.a,null)),r.a.createElement(hn.a,{primary:"Back"})),r.a.createElement(dn.a,{button:!0,onClick:function(){h==S?Ze():h==k?et():h==C?e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!1,url:"ftp://"}):h==j?e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!0,url:"sftp://"}):"http://"==h?e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!1,url:"http://"}):"scp://"==h?e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!0,url:"scp://"}):h==x&&e.setState({selectingEndpoint:!0})}},r.a.createElement(mn.a,null,r.a.createElement(On.a,null)),r.a.createElement(hn.a,{primary:"Add New "+p})),r.a.createElement(gn.a,null),(h==S||h==k)&&g,h==x&&b,h!=S&&h!=k&&h!=x&&f),r.a.createElement(kn.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"To Select globus endpoints",open:d,onClose:y,style:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"center"}},r.a.createElement(An,{close:y,endpointAdded:this.endpointModalAdd})),o&&r.a.createElement("div",{style:{flexGrow:1,flexDirection:"column"}},r.a.createElement(Gt.a,{style:{width:"100%",textAlign:"left"},onClick:function(){e.setState({settingAuth:!1})}}," ",r.a.createElement(vn.a,null),"Back"),r.a.createElement(gn.a,null),h!==x&&r.a.createElement(Ra.a,{style:{width:"80%"},id:"outlined-name",label:"Url",value:this.state.url,onChange:this.handleChange("url"),margin:"normal",variant:"outlined"}),s&&r.a.createElement("div",null,r.a.createElement(Ra.a,{style:{width:"80%"},id:"outlined-name",label:"Username",value:this.state.username,onChange:this.handleChange("username"),margin:"normal",variant:"outlined"}),r.a.createElement(Ra.a,{style:{width:"80%"},id:"outlined-name",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined"})),r.a.createElement(Gt.a,{style:{width:"100%",textAlign:"left"},onClick:l},"Next")))}}]),t}(n.Component),Un=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e)))._handleError=function(e){Di.emit("errorOccured",e)},a.credentialTypeExistsThenDo=function(e,t,n){a.setLoading(!0),Te(function(r){console.log(r),Object.keys(r).some(function(t){return-1!=r[t].name.toLowerCase().indexOf(e.toLowerCase())})?t(r):n(),a.setLoading(!1)},function(e){a._handleError("Could not get credential from our server. Maybe check your internet connection."),n(),a.setLoading(!1)})},a.state={history:e.history.filter(function(t){return 0==t.indexOf(e.endpoint.uri)}),creds:{},endpoint:e.endpoint,mode:e.mode,loading:!1},a.setLoading=a.setLoading.bind(Object(Ht.a)(Object(Ht.a)(a))),a.getLoading=a.getLoading.bind(Object(Ht.a)(Object(Ht.a)(a))),a.credentialTypeExistsThenDo=a.credentialTypeExistsThenDo.bind(Object(Ht.a)(Object(Ht.a)(a))),a._handleError=a._handleError.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"getLoading",value:function(){return this.state.loading}},{key:"render",value:function(){var e=this,t=this.state,a=t.endpoint,n=t.mode,i=t.history,o=t.type,l=t.loading,s=t.creds,c=this.props.update,d=function(t){return function(n){e.setState({mode:1,history:e.props.history.filter(function(e){return 0==e.indexOf(t)}),endpoint:Object(U.a)({},a,{uri:t}),creds:n}),e.props.update({mode:1,endpoint:Object(U.a)({},a,{uri:t})})}},u=function(t,n){e.setState({mode:0,endpoint:Object(U.a)({},a,{uri:"",login:!1,credential:{}})}),e.props.update({mode:0,endpoint:Object(U.a)({},a,{uri:"",login:!1,credential:{}})})},m={flexGrow:1,width:"100%",fontSize:"12px"};return r.a.createElement("div",{style:{borderWidth:"1px",borderColor:"#005bbb",borderStyle:"solid",borderRadius:"10px",width:"auto",height:"auto",overflow:"hidden"}},!a.login&&0==n&&r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement(Gt.a,{style:m,onClick:function(){e.credentialTypeExistsThenDo("DropBox",d(S),Ze)}},"DropBox"),r.a.createElement(Gt.a,{style:m,onClick:function(){e.credentialTypeExistsThenDo("GoogleDrive",d(k),et)}},"Google Drive"),r.a.createElement(Gt.a,{style:m,onClick:function(){e.credentialTypeExistsThenDo("GridFTP",d(x),at)}},"Grid FTP"),r.a.createElement(Gt.a,{style:m,onClick:function(){d(C)()}},"FTP"),r.a.createElement(Gt.a,{style:m,onClick:function(){d(j)()}},"SFTP"),r.a.createElement(Gt.a,{style:m,onClick:function(){d("http://")()}},"HTTP"),r.a.createElement(Gt.a,{style:m,onClick:function(){d("scp://")()}},"SSH")),!a.login&&1==n&&r.a.createElement("div",null,l&&r.a.createElement(Yt.a,null),r.a.createElement(_n,{endpoint:a,history:i,type:o,credentials:s,loginSuccess:function(t){e.setState({endpoint:t}),c({endpoint:t})},setLoading:this.setLoading,back:function(){u()}})),a.login&&r.a.createElement("div",null,l&&r.a.createElement(Yt.a,null),r.a.createElement(on,{endpoint:a,setLoading:this.setLoading,getLoading:this.getLoading,back:u})))}}]),t}(n.Component),Mn=a(75),Wn=a.n(Mn),Vn=a(59),Hn=a.n(Vn),qn=a(112),Jn=a.n(qn),Gn=a(52),Kn=a.n(Gn),Yn=a(69),Qn=a.n(Yn),Xn=a(301),Zn=a.n(Xn),$n=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).sendFile=function(t){if(0==t.selectedTasks.length)return Di.emit("errorOccured","You did not select any files!"),0;var a=oe(t.fromTo[0]),n=oe(t.fromTo[1]),r=e.state.settings,i=[],o=[],l=[];console.log(t.selectedTasks),t.selectedTasks.map(function(e){i.push($(a.uri,t.fromTo[0].path,e.name)),o.push(e.id),l.push($(n.uri,t.fromTo[1].path,e.name))});var s,c=l.reduce(function(e,t){return e+","+t}),d=i.reduce(function(e,t){return e+","+t}),u=o.reduce(function(e,t){return e+","+t}),m={credential:a.credential,id:u,uri:encodeURI(d)},p={credential:n.credential,id:(s=n,"left"==s.side?J.ids[J.ids.length-1]:G.ids[G.ids.length-1]),uri:encodeURI(c)},h={};Object.keys(r).map(function(e){var t=r[e];"true"!==t&&"false"!==t||(t=JSON.parse(t)),h[e]=t}),function(e,t,a,n,r,i,o){Ae.apply(this,arguments)}(m,a,p,n,h,function(e){ae(t),Di.emit("errorOccured","Transfer Scheduled!")},function(e){Di.emit("errorOccured",e)})},e.onDragStart=function(e){var t=JSON.parse(e.draggableId.slice(e.draggableId.indexOf(" "))),a=e.source.droppableId;le()[a].find(function(e){return e.name===t.name})||se(),Z(t)},e.onDragEnd=function(t){var a=t.destination,n=t.source;if(a&&"CANCEL"!==t.reason){console.log(le(),t.source,t.destination);var r=na({entities:ee(),selectedTasks:le(),source:n,destination:a});r.fromTo[0]==r.fromTo[1]?ae(r):e.sendFile(r),Z(null)}else Z(null)},e.state={endpoint1:Ii.getState().endpoint1,endpoint2:Ii.getState().endpoint2,mode1:0,mode2:0,history:[],width:window.innerWidth,height:window.innerHeight,settings:{optimizer:"None",overwrite:"true",verify:"true",encrypt:"true",compress:"true",retry:5}},e.unsubcribe=Ii.subscribe(function(){e.setState({endpoint1:Ii.getState().endpoint1,endpoint2:Ii.getState().endpoint2})}),e.updateDimensions=e.updateDimensions.bind(Object(Ht.a)(Object(Ht.a)(e))),e._returnBrowseComponent1=e._returnBrowseComponent1.bind(Object(Ht.a)(Object(Ht.a)(e))),e._returnBrowseComponent2=e._returnBrowseComponent2.bind(Object(Ht.a)(Object(Ht.a)(e))),e.updateBrowseOne=e.updateBrowseOne.bind(Object(Ht.a)(Object(Ht.a)(e))),e.updateBrowseTwo=e.updateBrowseTwo.bind(Object(Ht.a)(Object(Ht.a)(e))),e.sendFile=e.sendFile.bind(Object(Ht.a)(Object(Ht.a)(e))),e.onSendToRight=e.onSendToRight.bind(Object(Ht.a)(Object(Ht.a)(e))),e.onSendToLeft=e.onSendToLeft.bind(Object(Ht.a)(Object(Ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateDimensions",value:function(){var e=this.state.width;(e>760&&Zt()||e<=760&&!Zt())&&this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){document.title="OneDataShare - Transfer",window.addEventListener("resize",this.updateDimensions),this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentWillUnmount",value:function(){document.title="OneDataShare - Home",this.unsubcribe()}},{key:"_returnBrowseComponent1",value:function(){var e=this.state,t=e.mode1,a=e.endpoint1,n=e.history;return r.a.createElement(Un,{mode:t,endpoint:a,history:n,update:this.updateBrowseOne})}},{key:"_returnBrowseComponent2",value:function(){var e=this.state,t=e.mode2,a=e.endpoint2,n=e.history;return r.a.createElement(Un,{mode:t,endpoint:a,history:n,update:this.updateBrowseTwo})}},{key:"updateBrowseOne",value:function(e){void 0==e.mode&&(e.mode=0),this.setState({endpoint1:e.endpoint||this.state.endpoint1,mode1:e.mode}),e.endpoint&&Ii.dispatch(_(e.endpoint.side,Object(U.a)({},this.state.endpoint1,e.endpoint)))}},{key:"updateBrowseTwo",value:function(e){void 0==e.mode&&(e.mode=0),this.setState({endpoint2:e.endpoint||this.state.endpoint2,mode2:e.mode}),e.endpoint&&Ii.dispatch(_(e.endpoint.side,Object(U.a)({},this.state.endpoint2,e.endpoint)))}},{key:"onSendToRight",value:function(){var e=ee(),t={fromTo:[e.left,e.right],selectedTasks:re({side:"left"})};this.sendFile(t)}},{key:"onSendToLeft",value:function(){var e=ee(),t={fromTo:[e.right,e.left],selectedTasks:re({side:"right"})};console.log(t),this.sendFile(t)}},{key:"getSettingComponent",value:function(e){var t=this,a=function(e){return function(a){var n=a.target.value;t.setState({settings:Object(U.a)({},t.state.settings,Object(Vt.a)({},e,n))})}},n={fontSize:"15px"},i={marginLeft:"5%",marginRight:"5%"};return r.a.createElement(qt.a,{bsStyle:"primary"},r.a.createElement(qt.a.Heading,null,"Transfer Setting"),r.a.createElement(qt.a.Body,{key:e,style:{overflow:"hidden"}},r.a.createElement(Wn.a,{component:"fieldset",style:i},r.a.createElement(Qn.a,{component:"legend",style:n},"Optimization"),r.a.createElement(Jn.a,{"aria-label":"Optimization",value:this.state.settings.optimizer,onChange:a("optimizer")},r.a.createElement(Kn.a,{value:"None",control:r.a.createElement(Hn.a,null),label:"None"}),r.a.createElement(Kn.a,{value:"2nd Order",control:r.a.createElement(Hn.a,null),label:"2nd Order"}),r.a.createElement(Kn.a,{value:"PCP",control:r.a.createElement(Hn.a,null),label:"PCP"}))),r.a.createElement(Wn.a,{component:"fieldset",style:i},r.a.createElement(Qn.a,{component:"legend",style:n},"Overwrite"),r.a.createElement(Jn.a,{"aria-label":"Overwrite",value:this.state.settings.overwrite,onChange:a("overwrite")},r.a.createElement(Kn.a,{value:"true",control:r.a.createElement(Hn.a,null),label:"True"}),r.a.createElement(Kn.a,{value:"false",control:r.a.createElement(Hn.a,null),label:"False"}))),r.a.createElement(Wn.a,{component:"fieldset",style:i},r.a.createElement(Qn.a,{component:"legend",style:n},"Integrity"),r.a.createElement(Jn.a,{"aria-label":"Integrity",value:this.state.settings.verify,onChange:a("verify")},r.a.createElement(Kn.a,{value:"true",control:r.a.createElement(Hn.a,null),label:"True"}),r.a.createElement(Kn.a,{value:"false",control:r.a.createElement(Hn.a,null),label:"False"}))),r.a.createElement(Wn.a,{component:"fieldset",style:i},r.a.createElement(Qn.a,{component:"legend",style:n},"Encrypt"),r.a.createElement(Jn.a,{"aria-label":"Encrypt",value:this.state.settings.encrypt,onChange:a("encrypt")},r.a.createElement(Kn.a,{value:"true",control:r.a.createElement(Hn.a,null),label:"True"}),r.a.createElement(Kn.a,{value:"false",control:r.a.createElement(Hn.a,null),label:"False"}))),r.a.createElement(Wn.a,{component:"fieldset",style:i},r.a.createElement(Qn.a,{component:"legend",style:n},"Compress"),r.a.createElement(Jn.a,{"aria-label":"Compress",value:this.state.settings.compress,onChange:a("compress")},r.a.createElement(Kn.a,{value:"true",control:r.a.createElement(Hn.a,null),label:"True"}),r.a.createElement(Kn.a,{value:"false",control:r.a.createElement(Hn.a,null),label:"False"}))),r.a.createElement(Wn.a,{component:"fieldset"},r.a.createElement(Qn.a,{component:"legend",style:n},"Retry Counts"),r.a.createElement(Zn.a,{value:this.state.settings.retry,min:0,max:10,step:1,onChange:function(e,a){t.setState({settings:Object(U.a)({},t.state.settings,{retry:a})})}}),r.a.createElement(Qn.a,{style:{marginTop:"20px",fontSize:"20px"}},this.state.settings.retry," Times"))))}},{key:"render",value:function(){var e=Zt(),t={height:"auto",margin:e?"10px":"0px"};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"20px"}},r.a.createElement(ut.a,{xs:11,style:{display:"flex",justifyContent:"center",flexDirection:"column"}},!e&&r.a.createElement(qt.a,{bsStyle:"primary"},r.a.createElement(qt.a.Heading,null,"Browse and Transfer Files"),r.a.createElement(qt.a.Body,{key:e,style:{overflow:"hidden"}},r.a.createElement(pt.a,{style:{flexDirection:"column"}},r.a.createElement(ma.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.a.createElement(ut.a,{xs:6,style:t},this._returnBrowseComponent1()),r.a.createElement(ut.a,{xs:6,style:t},this._returnBrowseComponent2()))),r.a.createElement(pt.a,{style:{display:"block"}},r.a.createElement(Gt.a,{style:{padding:"15px",marginRight:"10px"},onClick:this.onSendToLeft}," ",r.a.createElement(dt.a,{glyph:"arrow-left"}),"    Send"),r.a.createElement(Gt.a,{style:{padding:"15px",marginLeft:"10px"},onClick:this.onSendToRight}," Send",r.a.createElement(dt.a,{glyph:"arrow-right"}))))),!e&&this.getSettingComponent(e),e&&r.a.createElement(qt.a,{bsStyle:"primary"},r.a.createElement(qt.a.Heading,null,"Browse and Transfer Files"),r.a.createElement(qt.a.Body,{key:e,style:{overflow:"hidden"}},r.a.createElement(pt.a,{style:{flexDirection:"column"}},r.a.createElement(ma.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.a.createElement(ut.a,{style:t},this._returnBrowseComponent1()),r.a.createElement(pt.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(Gt.a,{style:{padding:"15px",marginRight:"10px"},onClick:this.onSendToLeft}," ",r.a.createElement(dt.a,{glyph:"arrow-up"})," Send"),r.a.createElement(Gt.a,{style:{padding:"15px",marginLeft:"10px"},onClick:this.onSendToRight}," Send",r.a.createElement(dt.a,{glyph:"arrow-down"}))),r.a.createElement(pt.a,{style:t},this._returnBrowseComponent2()),r.a.createElement(pt.a,null,this.getSettingComponent(e))))))))}}]),t}(n.Component),er=a(82),tr=a.n(er),ar=a(84),nr=a.n(ar),rr=a(15),ir=a.n(rr),or=a(83),lr=a.n(or),sr=a(46),cr=a.n(sr),dr=a(649),ur=a(269),mr=a(149),pr=a.n(mr),hr=a(150),fr=a.n(hr),gr=a(111),br=a.n(gr),yr=a(62),Er=a.n(yr),vr=a(76),wr=a.n(vr),Or=a(147),Sr=a.n(Or),kr=a(148),Cr=a.n(kr),jr=a(152),xr=a.n(jr),Pr=a(151),Tr=a.n(Pr),Dr=a(191),Ir=a(200),Br=a.n(Ir),Fr=a(201),Ar=a.n(Fr),Nr=a(199),Lr=a.n(Nr),zr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,o=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(Dn.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===o.direction?r.a.createElement(Lr.a,null):r.a.createElement(Br.a,null)),r.a.createElement(Dn.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===o.direction?r.a.createElement(Ar.a,null):r.a.createElement(vn.a,null)),r.a.createElement(Dn.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===o.direction?r.a.createElement(vn.a,null):r.a.createElement(Ar.a,null)),r.a.createElement(Dn.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===o.direction?r.a.createElement(Br.a,null):r.a.createElement(Lr.a,null)))}}]),t}(r.a.Component),Rr=Object(Dr.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit},tablePaginationActions:{color:"red"}}},{withTheme:!0})(zr),_r=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).queueFunc=function(){Ie(!0,e.state.page,e.state.rowsPerPage,e.state.orderBy,e.state.order,function(t){e.setState({response:t.jobs,totalCount:t.totalCount})},function(e){console.log("Error in queue request to API layer")})},e.handleChangePage=function(t,a){e.state.page=a,e.setState({page:a}),e.queueFunc()},e.handleChangeRowsPerPage=function(t){e.state.page=0,e.state.rowsPerPage=parseInt(t.target.value),e.setState({page:0,rowsPerPage:parseInt(t.target.value)}),e.queueFunc()},e.handleRequestSort=function(t){var a=t,n="desc";e.state.orderBy===t&&"desc"===e.state.order&&(n="asc"),e.setState({order:n,orderBy:a}),e.state.order=n,e.state.orderBy=a,e.queueFunc()},e.state={response:[],selectedTab:0,page:0,rowsPerPage:10,rowsPerPageOptions:[10,20,50,100],order:"desc",orderBy:"job_id"},e.queueFunc=e.queueFunc.bind(Object(Ht.a)(Object(Ht.a)(e))),e.queueFunc(),setInterval(e.queueFunc,2e3);return e.toggleTabs=e.toggleTabs.bind(Object(Ht.a)(Object(Ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getStatus",value:function(e,t,a){var n={marginTop:"5%",fontWeight:"bold"};if("complete"===e)return r.a.createElement(dr.a,{now:100,label:"Complete",style:n});if("failed"===e)return r.a.createElement(dr.a,{bsStyle:"danger",now:100,style:n,label:"Failed"});var i=(a/t*100).toFixed();return r.a.createElement(dr.a,{bsStyle:"danger",now:i,style:n,label:"Processing "+i+"%"})}},{key:"renderSpeed",value:function(e){return e>1e9?(e/1e9).toFixed(2)+" GB/s":e>1e6?(e/1e6).toFixed(2)+" MB/s":e>1e3?(e/1e3).toFixed(2)+" KB/s":e+" B/s"}},{key:"infoButtonOnClick",value:function(e){var t=document.getElementById("info_"+e);if(this.selectedJobInfo===e&&"none"!=t.style.display)t.style.display="none";else{var a=document.getElementById("info_"+this.selectedJobInfo);a&&(a.style.display="none"),t.style.display="table-row",this.selectedJobInfo=e}}},{key:"closeAllInfoRows",value:function(){for(var e=0;e<this.infoRowsIds.length;e++){var t=document.getElementById(this.infoRowsIds[e]);"none"!=t.style.display&&(t.style.display="none")}this.setState({selectedTab:0})}},{key:"cancelButtonClick",value:function(e){}},{key:"toggleTabs",value:function(){0===this.state.selectedTab?this.setState({selectedTab:1}):this.setState({selectedTab:0})}},{key:"renderActions",value:function(e,t,a){var n=this;return this.infoRowsIds=this.infoRowsIds||[],this.infoRowsIds.push("info_"+e),r.a.createElement("div",null,r.a.createElement(v.a,{TransitionComponent:wr.a,placement:"top",title:"Detailed Information"},r.a.createElement(Gt.a,{onClick:function(){n.infoButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontFamily:"FontAwesome",fontSize:"1.5rem",height:"30%",fontWeight:"bold",width:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Sr.a,null))),"processing"==t&&r.a.createElement(v.a,{TransitionComponent:wr.a,title:"Cancel"},r.a.createElement(Gt.a,{onClick:function(){n.cancelButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Cr.a,null))))}},{key:"decodeURIComponent",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return decodeURIComponent(e)})},{key:"renderSpeed",value:function(e){return e>1e9?(e/1e9).toFixed(2)+" GB/s":e>1e6?(e/1e6).toFixed(2)+" MB/s":e>1e3?(e/1e3).toFixed(2)+" KB/s":e+" B/s"}},{key:"renderTabContent",value:function(e){return 0===this.state.selectedTab?r.a.createElement(ur.a,{style:{paddingTop:"0.5%",paddingBottom:"0.5%",width:"fit-content"}},r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"User")),r.a.createElement(ut.a,{md:6},e.owner)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Job ID")),r.a.createElement(ut.a,{md:6},e.job_id)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Source")),r.a.createElement(ut.a,{md:6},e.src.uri)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Destination")),r.a.createElement(ut.a,{md:6},e.dest.uri)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Instant Speed")),r.a.createElement(ut.a,{md:6},this.renderSpeed(e.bytes.inst))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Average Speed")),r.a.createElement(ut.a,{md:6},this.renderSpeed(e.bytes.avg))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Scheduled Time")),r.a.createElement(ut.a,{md:6},"TBD")),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Started Time")),r.a.createElement(ut.a,{md:6},"TBD")),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Completed Time")),r.a.createElement(ut.a,{md:6},"TBD")),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Time Duration")),r.a.createElement(ut.a,{md:6},((e.times.completed-e.times.started)/1e3).toFixed(2)," sec")),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Attempts")),r.a.createElement(ut.a,{md:6},e.attempts)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Status")),r.a.createElement(ut.a,{md:6},e.status))):1===this.state.selectedTab?r.a.createElement("pre",null,JSON.stringify(e,null,"\t")):void 0}},{key:"render",value:function(){var e=this,t=(window.innerHeight,this.state),a=(t.response,t.totalCount),n={textAlign:"center"},i=this.state,o=i.rowsPerPage,l=i.rowsPerPageOptions,s=i.page,c=i.order,d=i.orderBy,u=this.props.classes,m="job_id",p="status",h="bytes.avg",f="src.uri",g="owner",b=[];return this.state.response.map(function(t){b.push(r.a.createElement(cr.a,{style:{alignSelf:"stretch"}},r.a.createElement(ir.a,{component:"th",scope:"row",style:Object(U.a)({},n,{width:"7.5%",fontSize:"1rem"}),numeric:!0},t.owner),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"40%",fontSize:"1rem"})},t.job_id),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"40%",fontSize:"1rem"})},e.getStatus(t.status,t.bytes.total,t.bytes.done)),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"35%",maxWidth:"20vw",overflow:"hidden",fontSize:"1rem",margin:"0px"})},e.renderSpeed(t.bytes.avg)),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"1rem"})},e.decodeURIComponent(t.src.uri)," ",r.a.createElement("b",null,"->")," ",e.decodeURIComponent(t.dest.uri)),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"1rem"})},e.renderActions(t.job_id,t.status,t.owner)))),b.push(r.a.createElement(cr.a,{id:"info_"+t.job_id,class:"rohit",style:{display:"none"}},r.a.createElement(ir.a,{colSpan:6,style:Object(U.a)({},n,{width:"10%",fontSize:"1rem",backgroundColor:"#e8e8e8",margin:"2%"})},r.a.createElement("div",{id:"infoBox",style:{marginBottom:"0.5%"}},r.a.createElement(pr.a,{position:"static",style:{boxShadow:"unset"}},r.a.createElement(fr.a,{value:e.state.selectedTab,onChange:e.toggleTabs,style:{backgroundColor:"#e8e8e8"}},r.a.createElement(br.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"Formatted"}),r.a.createElement(br.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"JSON"}))),r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:"4px",textAlign:"left",marginTop:"0.3%"}},e.renderTabContent(t))))))}),r.a.createElement(jn.a,{className:u.root,style:{marginLeft:"10%",marginRight:"10%",marginTop:"5%",border:"solid 2px #d9edf7"}},r.a.createElement(tr.a,null,r.a.createElement(lr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Username",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===g,direction:c,onClick:function(){e.handleRequestSort(g)}},"Username"))),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"40%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Job ID",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===m,direction:c,onClick:function(){e.handleRequestSort(m)}},"Job ID"))),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Progress",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===p,direction:c,onClick:function(){e.handleRequestSort(p)}},"Progress"))),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"35%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Average Speed",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===h,direction:c,onClick:function(){e.handleRequestSort(h)}},"Average Speed"))),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Source/Destination",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===f,direction:c,onClick:function(){e.handleRequestSort(f)}},"Source/Destination"))),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"2rem",color:"#31708f"})},"Actions"))),r.a.createElement(nr.a,null,b),r.a.createElement(Tr.a,{style:{textAlign:"center"}},r.a.createElement(cr.a,null,r.a.createElement(xr.a,{rowsPerPageOptions:l,colSpan:4,count:a,rowsPerPage:o,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Rr,classes:{caption:u.tablePaginationCaption,select:u.tablePaginationSelect,toolbar:u.toolbar}})))))}}]),t}(n.Component),Ur=Object(Dr.withStyles)(function(e){return{root:{width:"fit-content"},toolbar:{paddingLeft:"300px"},tablePaginationCaption:{fontSize:"15px"},tablePaginationSelect:{fontSize:"15px",lineHeight:"20px"}}})(_r),Mr=a(302),Wr=a.n(Mr),Vr=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).queueFunc=function(){Ie(!1,e.state.page,e.state.rowsPerPage,e.state.orderBy,e.state.order,function(t){e.setState({response:t.jobs,totalCount:t.totalCount})},function(e){console.log("Error in queue request to API layer")})},e.handleChangePage=function(t,a){e.state.page=a,e.setState({page:a}),e.queueFunc()},e.handleChangeRowsPerPage=function(t){e.state.page=0,e.state.rowsPerPage=parseInt(t.target.value),e.setState({page:0,rowsPerPage:parseInt(t.target.value)}),e.queueFunc()},e.handleRequestSort=function(t){var a=t,n="desc";e.state.orderBy===t&&"desc"===e.state.order&&(n="asc"),e.setState({order:n,orderBy:a}),e.state.order=n,e.state.orderBy=a,e.queueFunc()},e.state={response:[],selectedTab:0,page:0,rowsPerPage:10,rowsPerPageOptions:[10,20,50,100],order:"desc",orderBy:"job_id"},e.queueFunc(),e.interval=setInterval(e.queueFunc,2e3);return e.toggleTabs=e.toggleTabs.bind(Object(Ht.a)(Object(Ht.a)(e))),e.queueFunc=e.queueFunc.bind(Object(Ht.a)(Object(Ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getStatus",value:function(e,t,a){var n={marginTop:"5%",fontWeight:"bold"};if("complete"===e)return r.a.createElement(dr.a,{now:100,label:"Complete",style:n});if("failed"===e||"removed"===e)return r.a.createElement(dr.a,{bsStyle:"danger",now:100,style:n,label:"Failed"});var i=Math.ceil(a/t*100);return r.a.createElement(dr.a,{bsStyle:"danger",now:i,style:n,label:"Processing "+i+"%"})}},{key:"renderSpeed",value:function(e){return e>1e9?(e/1e9).toFixed(2)+" GB/s":e>1e6?(e/1e6).toFixed(2)+" MB/s":e>1e3?(e/1e3).toFixed(2)+" KB/s":e+" B/s"}},{key:"infoButtonOnClick",value:function(e){var t=document.getElementById("info_"+e);if(this.selectedJobInfo===e&&"none"!=t.style.display)t.style.display="none";else{var a=document.getElementById("info_"+this.selectedJobInfo);a&&(a.style.display="none"),t.style.display="table-row",this.selectedJobInfo=e}}},{key:"cancelButtonOnClick",value:function(e){var t=this;!function(e,t,a){Ke.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){console.log("Error in cancel request to API layer")})}},{key:"restartButtonOnClick",value:function(e){var t=this;!function(e,t,a){Qe.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){var t="Restart job failed since either or both credentials of the job do not exist";console.log(t),Di.emit("errorOccured",t)})}},{key:"deleteButtonOnClick",value:function(e){var t=this;!function(e,t,a){Xe.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){console.log("Error in delete job request to API layer")})}},{key:"getFormattedDate",value:function(e){return e.getMonth()+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},{key:"toggleTabs",value:function(){0===this.state.selectedTab?this.setState({selectedTab:1}):this.setState({selectedTab:0})}},{key:"renderActions",value:function(e,t,a){var n=this;return r.a.createElement("div",null,r.a.createElement(v.a,{TransitionComponent:wr.a,placement:"top",title:"Detailed Information"},r.a.createElement(Gt.a,{onClick:function(){n.infoButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontFamily:"FontAwesome",fontSize:"1.5rem",height:"30%",fontWeight:"bold",width:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Sr.a,null))),"processing"==t&&r.a.createElement(v.a,{TransitionComponent:wr.a,title:"Cancel"},r.a.createElement(Gt.a,{onClick:function(){n.cancelButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Cr.a,null))),"processing"!=t&&r.a.createElement(v.a,{TransitionComponent:wr.a,title:"Restart"},r.a.createElement(Gt.a,{onClick:function(){n.restartButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(La.a,null))),"processing"!=t&&!a&&r.a.createElement(v.a,{TransitionComponent:wr.a,title:"Delete"},r.a.createElement(Gt.a,{onClick:function(){n.deleteButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Wr.a,null))))}},{key:"renderTabContent",value:function(e){var t=new Date(e.times.scheduled),a=new Date(e.times.started),n=new Date(e.times.completed);return 0===this.state.selectedTab?r.a.createElement(ur.a,{style:{paddingTop:"0.5%",paddingBottom:"0.5%",width:"fit-content"}},r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"User")),r.a.createElement(ut.a,{md:6},e.owner)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Job ID")),r.a.createElement(ut.a,{md:6},e.job_id)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Source")),r.a.createElement(ut.a,{md:6},e.src.uri)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Destination")),r.a.createElement(ut.a,{md:6},e.dest.uri)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Instant Speed")),r.a.createElement(ut.a,{md:6},this.renderSpeed(e.bytes.inst))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Average Speed")),r.a.createElement(ut.a,{md:6},this.renderSpeed(e.bytes.avg))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Scheduled Time")),r.a.createElement(ut.a,{md:6},this.getFormattedDate(t))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Started Time")),r.a.createElement(ut.a,{md:6},this.getFormattedDate(a))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Completed Time")),r.a.createElement(ut.a,{md:6},this.getFormattedDate(n))),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Time Duration")),r.a.createElement(ut.a,{md:6},((e.times.completed-e.times.started)/1e3).toFixed(2)," sec")),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Attempts")),r.a.createElement(ut.a,{md:6},e.attempts)),r.a.createElement(pt.a,null,r.a.createElement(ut.a,{md:6},r.a.createElement("b",null,"Status")),r.a.createElement(ut.a,{md:6},e.status))):1===this.state.selectedTab?r.a.createElement("pre",null,JSON.stringify(e,null,"\t")):void 0}},{key:"render",value:function(){var e=this,t=(window.innerHeight,this.state),a=t.response,n=t.totalCount,i=this.state,o=i.rowsPerPage,l=i.rowsPerPageOptions,s=i.page,c=i.order,d=i.orderBy,u={textAlign:"center"},m=this.props.classes,p="job_id",h="status",f="bytes.avg",g="src.uri",b=[];return a.map(function(t){b.push(r.a.createElement(cr.a,{style:{alignSelf:"stretch"}},r.a.createElement(ir.a,{component:"th",scope:"row",style:Object(U.a)({},u,{width:"7.5%",fontSize:"1rem"}),align:"center"},t.job_id),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"45%",fontSize:"1rem"})},e.getStatus(t.status,t.bytes.total,t.bytes.done)),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"7.5%",fontSize:"1rem"})},e.renderSpeed(t.bytes.avg)),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"25%",maxWidth:"20vw",overflow:"hidden",fontSize:"1rem",margin:"0px"})},decodeURI(t.src.uri)," ",r.a.createElement("b",null,"->")," ",decodeURI(t.dest.uri)),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"15%",fontSize:"1rem"})},e.renderActions(t.job_id,t.status,t.deleted)))),b.push(r.a.createElement(cr.a,{id:"info_"+t.job_id,style:{display:"none"}},r.a.createElement(ir.a,{colSpan:5,style:Object(U.a)({},u,{width:"10%",fontSize:"1rem",backgroundColor:"#e8e8e8",margin:"2%"})},r.a.createElement("div",{id:"infoBox",style:{marginBottom:"0.5%"}},r.a.createElement(pr.a,{position:"static",style:{boxShadow:"unset"}},r.a.createElement(fr.a,{value:e.state.selectedTab,onChange:e.toggleTabs,style:{backgroundColor:"#e8e8e8"}},r.a.createElement(br.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"Formatted"}),r.a.createElement(br.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"JSON"}))),r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:"4px",textAlign:"left",marginTop:"0.3%"}},e.renderTabContent(t))))))}),r.a.createElement(jn.a,{className:m.root,id:"jobHistory",style:{marginLeft:"7.2%",marginRight:"7.2%",marginTop:"5%",marginBottom:"10%",border:"solid 2px #d9edf7"}},r.a.createElement(tr.a,null,r.a.createElement(lr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Job ID",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===p,direction:c,onClick:function(){e.handleRequestSort(p)}},"Job ID"))),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"45%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Progress",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===h,direction:c,onClick:function(){return e.handleRequestSort(h)}},"Progress"))),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Average Speed",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===f,direction:c,onClick:function(){return e.handleRequestSort(f)}},"Average Speed"))),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"25%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(v.a,{title:"Sort on Source/Destination",placement:"bottom-end",enterDelay:300},r.a.createElement(Er.a,{active:d===g,direction:c,onClick:function(){return e.handleRequestSort(g)}},"Source/Destination"))),r.a.createElement(ir.a,{style:Object(U.a)({},u,{width:"15%",fontSize:"2rem",color:"#31708f"})},"Actions"))),r.a.createElement(nr.a,null,b),r.a.createElement(Tr.a,{style:{textAlign:"center"}},r.a.createElement(cr.a,null,r.a.createElement(xr.a,{rowsPerPageOptions:l,colSpan:3,count:n,rowsPerPage:o,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Rr,classes:{caption:m.tablePaginationCaption,select:m.tablePaginationSelect,toolbar:m.toolbar}})))))}}]),t}(n.Component),Hr=Object(Dr.withStyles)(function(e){return{root:{width:"fit-content"},toolbar:{paddingLeft:"300px"},tablePaginationCaption:{fontSize:"15px"},tablePaginationSelect:{fontSize:"15px",lineHeight:"20px"}}})(Vr),qr=a(107),Jr=a.n(qr),Gr=a(153),Kr=a.n(Gr),Yr=a(33),Qr=a.n(Yr),Xr=a(47),Zr=a.n(Xr),$r=a(73),ei=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={isSmall:window.innerWidth<=640,loading:!0,oldPassword:"",newPassword:"",conformNewPassword:""},e.getInnerCard=e.getInnerCard.bind(Object(Ht.a)(Object(Ht.a)(e))),e.onPasswordUpdate=e.onPasswordUpdate.bind(Object(Ht.a)(Object(Ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onPasswordUpdate",value:function(e,t,a){!function(e,t,a,n,r){Ge.apply(this,arguments)}(e,t,a,function(e){console.log(e)},function(e){e&&e.response&&e.response.data&&e.response.data.message?Di.emit("errorOccured",e.response.data.message):Di.emit("errorOccured","Unknown Error")})}},{key:"getInnerCard",value:function(){var e=this,t=function(t){return function(a){e.setState(Object(Vt.a)({},t,a.target.value))}},a=this.state.newPassword!==this.state.conformNewPassword;return r.a.createElement("div",null,r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.6em"}},"Change your Password"),r.a.createElement(Ra.a,{id:"Email",label:"Enter Your Old Password",type:"password",value:this.state.oldPassword,style:{width:"100%",marginBottom:"1em"},onChange:t("oldPassword")}),r.a.createElement(Ra.a,{id:"Password",label:"Enter Your New Password",type:"password",value:this.state.newPassword,style:{width:"100%",marginBottom:"1em"},onChange:t("newPassword")}),r.a.createElement(Ra.a,{error:a,id:"Cpassword",type:"password",label:"Confirm Your New Password",value:this.state.conformNewPassword,style:{width:"100%",marginBottom:"2em"},onChange:t("conformNewPassword")}),r.a.createElement(Zr.a,{style:{marginBottom:"0px"}},r.a.createElement(Gt.a,{size:"small",color:"primary",style:{width:"100%"},onClick:function(){return e.onPasswordUpdate(e.state.oldPassword,e.state.newPassword,e.state.conformNewPassword)}},"Proceed with password Change")))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this)),this.setState({loading:!1}),this.resize()}},{key:"resize",value:function(){this.state.isSmall&&window.innerWidth>640?this.setState({isSmall:!1}):!this.state.isSmall&&window.innerWidth<=640&&this.setState({isSmall:!0})}},{key:"render",value:function(){var e=this.state,t=e.isSmall,a=e.loading,n=window.innerHeight+"px";return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"..",height:n}},r.a.createElement("div",{style:{width:"450px",marginTop:"30px",marginLeft:"30px",marginRight:"30px",alignSelf:t?"flex-start":"center"}},a&&r.a.createElement(Yt.a,null),t&&this.getInnerCard(),!t&&r.a.createElement(Jr.a,null,r.a.createElement(Kr.a,{style:{padding:"3em"}},this.getInnerCard()))))}}]),t}(n.Component),ti=a(203),ai=a.n(ti),ni=a(202),ri=a.n(ni),ii=a(304),oi=a.n(ii),li=a(305),si=a.n(li),ci=(a(610),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).handleClose=function(){e.setState({showIsAdminPopup:!1,adminChangePopupMsg:"",targetUser:"",firstName:"",lastName:""})},e.state={users:[],admins:[]},He("getUsers",function(t){e.setState({users:t})},function(e){console.log("Error encountered in getUsers request to API layer")}),He("getAdministrators",function(t){e.setState({admins:t})},function(e){console.log("Error encountered in getUsers request to API layer")}),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateAdminRights",value:function(e,t){var a="";e.target.checked?(a="Please confirm if "+t.firstName+" "+t.lastName+" must be granted admin privileges.",this.setState({showIsAdminPopup:!0,adminChangePopupMsg:a,targetUser:t.email,isAdmin:!0,firstName:t.firstName,lastName:t.lastName})):(a="Please confirm if admin privileges of "+t.firstName+" "+t.lastName+" must be revoked.",this.setState({showIsAdminPopup:!0,adminChangePopupMsg:a,targetUser:t.email,isAdmin:!1,firstName:t.firstName,lastName:t.lastName}))}},{key:"updateAdminRightsUsingStateInfo",value:function(e,t){var a=this;(function(e,t){return Je.apply(this,arguments)})(e,t).then(function(e){e?Di.emit("errorOccured","Admin privileges is "+(a.state.isAdmin?"granted for ":"revoked for ")+a.state.firstName+" "+a.state.lastName):Di.emit("errorOccured","Error while updating the user"),He("getUsers",function(e){a.setState({users:e,showIsAdminPopup:!1,adminChangePopupMsg:"",targetUser:"",firstName:"",lastName:""})},function(e){console.log("Error encountered in getUsers request to API layer")})})}},{key:"render",value:function(){var e=this,t=(window.innerHeight,this.state.users),a=this.state.admins,n={textAlign:"center"};return r.a.createElement("div",null,r.a.createElement(Ua.a,{open:this.state.showIsAdminPopup,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ka.a,{id:"form-dialog-title"},"Confirm"),r.a.createElement(Ha.a,{style:{width:"100%"}},r.a.createElement(Ja.a,null,this.state.adminChangePopupMsg)),r.a.createElement(Wa.a,null,r.a.createElement(Gt.a,{onClick:function(){return e.updateAdminRightsUsingStateInfo(e.state.targetUser,e.state.isAdmin)},color:"primary"},"Yes"),r.a.createElement(Gt.a,{onClick:function(){return e.handleClose()},color:"secondary"},"No"))),r.a.createElement(jn.a,{id:"clientsInfo",style:{marginLeft:"9%",marginRight:"9%",marginTop:"5%",marginBottom:"5%",border:"solid 2px #d9edf7"}},r.a.createElement(tr.a,null,r.a.createElement(lr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(cr.a,null,r.a.createElement(ir.a,{colSpan:7,style:Object(U.a)({},n,{backgroundColor:"#d9edf7",width:"7.5%",fontSize:"2rem",color:"#31708f"})},"Users Information")),r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"25%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(ri.a,null),"Users"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"2rem",color:"#31708f"})},"First Name"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"10%",fontSize:"2rem",color:"#31708f"})},"Last Name"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"25%",fontSize:"2rem",color:"#31708f"})},"Sign Up"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"5%",fontSize:"2rem",color:"#31708f"})},"Validation"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"25%",fontSize:"2rem",color:"#31708f"})},"Last Activity"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"25%",fontSize:"2rem",color:"#31708f"})},"Make Admin"))),r.a.createElement(nr.a,null,t.map(function(t){var a=1e3*t.registerMoment,i=new Date(a);return r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:{fontSize:"1rem"}},r.a.createElement(ai.a,null),t.email),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},t.firstName),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},t.lastName),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},i.getMonth()+"/"+i.getDate()+"/"+i.getFullYear()+" "+i.getHours()+":"+i.getMinutes()),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},t.validated?r.a.createElement(oi.a,{style:{color:"green"}}):r.a.createElement(si.a,{style:{color:"red"}})),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},"TBD"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},r.a.createElement("input",{type:"checkbox",disabled:t.email===Ii.getState().email,checked:t.isAdmin,onChange:function(a){return e.updateAdminRights(a,t)}})))})))),r.a.createElement(jn.a,{id:"adminsInfo",style:{marginLeft:"10%",marginRight:"10%",marginTop:"2%",marginBottom:"10%",border:"solid 2px #d9edf7"}},r.a.createElement(tr.a,null,r.a.createElement(lr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(cr.a,null,r.a.createElement(ir.a,{colSpan:6,style:Object(U.a)({},n,{backgroundColor:"#d9edf7",width:"7.5%",fontSize:"2rem",color:"#31708f"})},"Admin Information")),r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"33%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(ri.a,null),"Users"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"33%",fontSize:"2rem",color:"#31708f"})},"First Name"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"33%",fontSize:"2rem",color:"#31708f"})},"Last Name"),r.a.createElement(ir.a,{style:Object(U.a)({},n,{width:"33%",fontSize:"2rem",color:"#31708f"})},"Last Activity"))),r.a.createElement(nr.a,null,a.map(function(e){return r.a.createElement(cr.a,null,r.a.createElement(ir.a,{style:{fontSize:"1rem"}},r.a.createElement(ai.a,null),e.email),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},e.firstName),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},e.lastName),r.a.createElement(ir.a,{style:Object(U.a)({},n,{fontSize:"1rem"})},"TBD"))})))))}}]),t}(n.Component)),di=a(307),ui=a.n(di),mi=(a(634),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).handleChange=function(t){e.setState(Object(Vt.a)({},t.target.name,t.target.value))},e.state={captchaVerified:!1,captchaVerificationValue:null},e.handleSubmit=e.handleSubmit.bind(Object(Ht.a)(Object(Ht.a)(e))),e.handleChange=e.handleChange.bind(Object(Ht.a)(Object(Ht.a)(e))),e.handleCaptchaEvent=e.handleCaptchaEvent.bind(Object(Ht.a)(Object(Ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleCaptchaEvent",value:function(e){this.setState({captchaVerified:!0,captchaVerificationValue:e})}},{key:"handleSubmit",value:function(){var e=document.getElementById("progress-bar");e.style.visibility="visible";var t=document.getElementById("msg");!function(e,t,a){Fe.apply(this,arguments)}({name:this.state.name,email:this.state.email,phone:this.state.phone,subject:this.state.subject,description:this.state.description},function(a){e.style.visibility="hidden",t.style.border="1px solid green",t.style.color="green",t.innerHTML="Support ticket created successfully. Ticket number - "+a,t.style.visibility="visible"},function(a){e.style.visibility="hidden",t.style.border="1px solid red",t.style.color="red",t.innerHTML="There was an error while creating the support ticket. Please try again.",t.style.visibility="visible"})}},{key:"render",value:function(){var e={margin:"2% 5%"};return r.a.createElement(Jr.a,{style:{margin:"5% 7.2% 10%",border:"solid 2px #d9edf7"}},r.a.createElement(ui.a,{title:"Report an Issue"}),r.a.createElement($r.ValidatorForm,{ref:"support-form",onSubmit:this.handleSubmit},r.a.createElement("div",{style:e},r.a.createElement(Ra.a,{required:!0,label:"Name",name:"name",onChange:this.handleChange,style:{marginRight:"5%",width:"30%"}}),r.a.createElement(Ra.a,{required:!0,label:"Email Address",name:"email",onChange:this.handleChange,style:{marginRight:"5%",width:"30%"}})),r.a.createElement("div",{style:e},r.a.createElement(Ra.a,{required:!0,label:"Subject",name:"subject",onChange:this.handleChange,style:{width:"70%"}})),r.a.createElement("div",{style:e},r.a.createElement(Ra.a,{required:!0,multiline:!0,rows:"6",label:"Issue Description",name:"description",onChange:this.handleChange,style:{width:"70%"}})),r.a.createElement("div",{id:"progress-bar",style:{marginLeft:"19%",marginRight:"19%",visibility:"hidden"}},r.a.createElement(Yt.a,null)),r.a.createElement("div",{style:{marginLeft:"5%",marginRight:"5%",marginTop:"1%",marginBottom:"2%"}},r.a.createElement(Gt.a,{type:"submit",size:"medium",variant:"contained",color:"primary",style:{width:"70%"}},"Submit")),r.a.createElement("div",{id:"msg",style:{marginLeft:"19%",marginRight:"19%",marginTop:"2%",marginBottom:"2%",textAlign:"center",paddingTop:"1%",paddingBottom:"1%",visibility:"hidden"}})))}}]),t}(n.Component)),pi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isLoggedIn:Ii.getState().login,admin:Ii.getState().admin},a.unsubscribe=Ii.subscribe(function(){a.setState({isLoggedIn:Ii.getState().login,admin:Ii.getState().admin})}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,a=e.admin;return r.a.createElement("div",{className:"App"},r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",charSet:"UTF-8",href:"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css"}),r.a.createElement(ct,{key:t,login:t,email:Ii.getState().email}),r.a.createElement("div",{style:{marginTop:"50px",display:"block"}},r.a.createElement(Ut.a,null,r.a.createElement(Mt.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_t,Object.assign({},e,{store:Ii}))}}),r.a.createElement(Mt.a,{exact:!0,path:"/support",render:function(){return r.a.createElement(mi,null)}}),t&&r.a.createElement(Mt.a,{exact:!0,path:"/transfer",render:function(e){return r.a.createElement($n,Object.assign({},e,{store:Ii}))}}),t&&r.a.createElement(Mt.a,{exact:!0,path:"/queue",render:function(e){return r.a.createElement(Hr,null)}}),t&&a&&r.a.createElement(Mt.a,{exact:!0,path:"/history",render:function(e){return r.a.createElement(Ur,Object.assign({},e,{store:Ii}))}}),t&&a&&r.a.createElement(Mt.a,{exact:!0,path:"/clientsInfo",render:function(e){return r.a.createElement(ci,Object.assign({},e,{store:Ii}))}}),t&&r.a.createElement(Mt.a,{exact:!0,path:"/user",render:function(e){return r.a.createElement(ei,null)}}),t&&r.a.createElement("h1",{to:"/transfer"},"Page Not Found"),!t&&r.a.createElement(Mt.a,{render:function(){return r.a.createElement(Wt.a,{to:"/"})}}))))}}]),t}(n.Component),hi=a(308),fi=a.n(hi),gi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:"",password:"",emailChecked:!1,error:!1,errorMessage:null,remember:!1,isAuthenticated:!1},a.emailValidated=!1,a.onEmailNextClicked=a.onEmailNextClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a.onSignInClicked=a.onSignInClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.email&&this.setState({email:this.props.email})}},{key:"onEmailNextClicked",value:function(){var e=this,t=this.props.isLoading;this.state.email;t(!0),function(e,t,a){pe.apply(this,arguments)}(this.state.email,function(a){t(!1),e.setState({emailChecked:!0})},function(a){t(!1),e.setState({emailChecked:!0,error:!0,errorMessage:"Email not found or server error."})})}},{key:"onSignInClicked",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.userLoggedIn,r=this.state,i=r.email,o=r.password,l=r.remember;a(!0),n(i,o,l,function(t){a(!1),console.log("error message",t),e.setState({error:!0,errorMessage:"Wrong password or server error."})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.createAccountPressed,n=t.validateEmailPressed,i=t.forgotPasswordPressed,o=this.state,l=o.emailChecked,s=o.email,c=o.password,d=o.error,u=o.errorMessage,m=o.remember,p=(o.isAuthenticated,function(t){return function(a){e.setState(Object(Vt.a)({error:!1,errorMessage:null},t,a.target.value))}});return r.a.createElement("div",null,!l&&r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em",textAlign:"center"}},"Sign In"),r.a.createElement(Qr.a,{style:{fontSize:"1em",textAlign:"center"},color:"textSecondary"},"Onedatashare"),r.a.createElement($r.ValidatorForm,{ref:"email",onSubmit:this.onEmailNextClicked},r.a.createElement($r.TextValidator,{error:d,helperText:u,label:"Email",onChange:p("email"),name:"email",value:s,validators:["required","isEmail"],errorMessages:["Please put email here","Can not understand email format"],style:{width:"90%",margin:"5%"}}),r.a.createElement(Zr.a,{style:w},r.a.createElement(Gt.a,{size:"small",color:"primary",onClick:a},"Create Account"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",type:"submit"},"Next")))),l&&r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Hey ",s.substring(0,s.indexOf("@")),"!"),r.a.createElement(Gt.a,{size:"large",style:{borderRadius:"20px"},variant:"outlined",color:"primary",onClick:function(){return e.setState({emailChecked:!1})}},s),r.a.createElement($r.ValidatorForm,{ref:"password",onSubmit:this.onSignInClicked},r.a.createElement($r.TextValidator,{error:d,helperText:u,id:"Password",label:"Enter Your Password",onChange:p("password"),type:"password",name:"password",value:c,validators:["required"],errorMessages:["Where is password?"],style:{width:"90%",margin:"5%"}}),r.a.createElement(Kn.a,{control:r.a.createElement(fi.a,{checked:m,value:"remember",onChange:function(t){e.setState({remember:t.target.checked})},color:"primary"}),label:"Remember"}),r.a.createElement(Zr.a,{style:Object(U.a)({},w,{marginBottom:"20px"})},r.a.createElement(Gt.a,{size:"small",color:"primary",onClick:function(){return i(s)}},"Forgot Password?"),r.a.createElement(Gt.a,{size:"small",color:"primary",onClick:function(){return n(s)}},"Lost Validation Email?")),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",type:"submit",style:{width:"100%"}},"Next"))))}}]),t}(n.Component),bi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={accounts:a.props.accounts},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accounts,a=this.props,n=a.useAnotherAccount,i=a.isLoading,o=a.login;0==Object.keys(t).length&&n();return r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em",textAlign:"center"}},"Choose an account"),r.a.createElement(sn.a,null,Object.keys(t).map(function(a){return r.a.createElement(dn.a,{key:a,role:void 0,button:!0,onClick:function(){return function(e){o(e)}(a)}},r.a.createElement(hn.a,{primary:a,secondary:"Signed out"}),r.a.createElement(Ln.a,null,r.a.createElement(Dn.a,{onClick:function(){return function(a){i(!0),delete t[a],e.setState({accounts:t}),e.props.removedAccount(t)}(a)},"aria-label":"Delete"},r.a.createElement(Rn.a,null))))}),r.a.createElement(gn.a,{style:{marginTop:"30px"}}),r.a.createElement(dn.a,{key:"Add Another",button:!0,onClick:n},r.a.createElement(hn.a,{primary:"Use another account"}))))}}]),t}(n.Component),yi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:e.email,loadVerifyCode:!1,loading:!1},a.next=a.next.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"next",value:function(){var e=this;this.setState({loading:!0}),function(e){return be.apply(this,arguments)}(this.state.email).then(function(t){200===t.data.status?e.setState({loading:!1,loadVerifyCode:!0}):(e.setState({loading:!1,loadVerifyCode:!1}),Di.emit("errorOccured",t.data.response))})}},{key:"render",value:function(){var e,t=this,a=this.props.back,n=this.props,i=this.state.email;return this.state.loadVerifyCode?r.a.createElement(Ei,Object.assign({},n,{loadVerifyCode:this.state.loadVerifyCode,email:this.state.email})):r.a.createElement("div",{className:"enter-from-right slide-in"},this.state.loading&&r.a.createElement(Yt.a,null),r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Find your Stork Account"),r.a.createElement(Ra.a,{id:"Email",label:"Enter Your Email",value:i,style:{width:"100%",marginBottom:"50px",borderRadius:"25px"},onChange:(e="email",function(a){t.setState(Object(Vt.a)({},e,a.target.value))})}),r.a.createElement(Zr.a,{className:"flexSpaceBetween"},"\n",r.a.createElement(Gt.a,{size:"small",variant:"outlined",color:"primary",onClick:a},"Back to Sign in Page"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return t.next()},style:{marginLeft:"4vw"}},"Next")))}}]),t}(n.Component),Ei=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:""!=e.email?e.email:"",password:"",cpassword:"",code:"",screen:e.loadVerifyCode?"verifyCode":"registration",verificationError:"",passwordError:"",firstName:"",lastName:"",organization:"",loading:!1,isLostVerifyCode:e.loadVerifyCode},a.firstNameValidationMsg="Please Enter Your First Name",a.lastNameValidationMsg="Please Enter Your Last Name",a.emailValidationMsg="Please Enter EmailId",a.onNextClicked=a.onNextClicked.bind(Object(Ht.a)(Object(Ht.a)(a))),a.registerAccount=a.registerAccount.bind(Object(Ht.a)(Object(Ht.a)(a))),a.verifyAccount=a.verifyAccount.bind(Object(Ht.a)(Object(Ht.a)(a))),a.login=a.login.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"registerAccount",value:function(){var e=this.state.email,t=this.state.firstName,a=this.state.lastName,n=this.state.organization,r=this;if(0==e.trim().length){var i=r.state;i.emaildError=this.emailValidationMsg,r.setState({state:i})}else if(0==t.trim().length){var o=r.state;o.firstNameValidation=this.firstNameValidationMsg,r.setState({state:o})}else if(0==a.trim().length){var l=r.state;l.lastNameValidation=this.lastNameValidationMsg,r.setState({state:l})}else this.state.loading=!0,r.setState(this.state),function(e,t,a,n){return ot.apply(this,arguments)}(e,t,a,n).then(function(e){if(r.state.loading=!1,200==e.status){var t=r.state;t.screen="verifyCode",t.verificationError="",r.setState({state:t})}else if(302==e.status){var a=r.state;a.emaildError="User with same Email Id already exists",a.verificationError="User with same Email Id already exists",r.setState({state:a})}})}},{key:"verifyAccount",value:function(){var e=this.state.email,t=this;(function(e,t){return lt.apply(this,arguments)})(e,this.state.verificationCode).then(function(e){var a=t.state;200==e.status?(a.screen="setPassword",a.code=e.data,t.setState({state:a})):(a.verificationError="Please Enter Valid Verification Code",t.setState({state:a}))})}},{key:"login",value:function(){var e=this.state.email,t=this.state.password,a=this.state.cpassword,n=this,r=this.state.code,i=n.state;t!=a?(i.passwordError="Password Doesn't Match",n.setState({state:i})):function(e,t,a,n){return ye.apply(this,arguments)}(e,r,t,a).then(function(e){n.props.history.push("/account/signIn")})}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("next ",t),!0}},{key:"onNextClicked",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.userLoggedIn,r=this.state,i=r.email,o=r.password,l=r.remember;a(!0),n(i,o,l,function(t){a(!1),e.setState({error:!0,errorMessage:t})})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.create,t.backToSignin),n=(t.loadVerifyCode,this.props),i=function(t){return function(a){"firstName"===t&&(e.state.firstNameValidation="",e.setState(e.state)),"lastName"===t&&(e.state.lastNameValidation="",e.setState(e.state)),"email"===t&&(e.state.emaildError="",e.setState(e.state)),e.setState(Object(Vt.a)({},t,a.target.value))}},o=this.state.screen,l=this.state.loading;return"validateEmail"===o?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(yi,Object.assign({},n,{email:this.state.email}))):"registration"===o?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement("div",null,l&&r.a.createElement(Yt.a,null)),r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Create your OneDataShare Account"),r.a.createElement(Ra.a,{id:"Email",label:this.state.emaildError&&""!=this.state.emaildError?this.state.emaildError:"Email*",value:this.state.email,style:{width:"100%",marginBottom:"50px"},onChange:i("email"),error:this.state.emaildError&&""!=this.state.emaildError}),r.a.createElement(Ra.a,{id:"FirstName",label:this.state.firstNameValidation===this.firstNameValidationMsg?this.firstNameValidationMsg:"First Name*",value:this.state.firstName,style:{width:"100%",marginBottom:"50px"},onChange:i("firstName"),error:this.state.firstNameValidation===this.firstNameValidationMsg}),r.a.createElement(Ra.a,{id:"LastName",label:this.state.lastNameValidation===this.lastNameValidationMsg?this.lastNameValidationMsg:"Last Name*",value:this.state.lastName,style:{width:"100%",marginBottom:"50px"},onChange:i("lastName"),error:this.state.lastNameValidation===this.lastNameValidationMsg}),r.a.createElement(Ra.a,{id:"Organization",label:"Organization",value:this.state.organization,style:{width:"100%",marginBottom:"50px"},onChange:i("organization")}),r.a.createElement(Zr.a,{style:{float:"right"}},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Sign in Instead"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.registerAccount},"Next"))):"verifyCode"===o?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Please check ",this.state.email," for authorization code"),r.a.createElement(Ra.a,{id:"code",label:""==this.state.verificationError?"Enter Verification Code":"Please Enter Valid Verification Code",value:this.state.verificationCode,style:{width:"100%",marginBottom:"50px"},onChange:i("verificationCode"),error:"Please Enter Valid Verification Code"==this.state.verificationError}),r.a.createElement(Zr.a,{style:{float:"right"}},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:function(){e.state.isLostVerifyCode?e.setState({screen:"validateEmail"}):e.setState({screen:"registration"})}},"Back"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.verifyAccount},"Next"))):"setPassword"===o?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Code Verified! Please set password for your account"),r.a.createElement(Ra.a,{id:"Password",label:"Password",type:"password",value:this.state.password,style:{width:"100%",marginBottom:"50px"},onChange:i("password")}),r.a.createElement(Ra.a,{id:"Cpassword",type:"password",label:"Password Doesn't Match"===this.state.passwordError?"Password Doesn't Match":"Confirm Password",value:this.state.cpassword,style:{width:"100%",marginBottom:"50px"},onChange:i("cpassword"),error:"Password Doesn't Match"===this.state.passwordError}),r.a.createElement(Zr.a,{style:{float:"right"}},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:function(){e.setState({screen:"verifyCode"})}},"Back"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.login},"Next"))):void 0}}]),t}(n.Component),vi=0,wi=1,Oi=2,Si=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).SetPassword=function(){var e=a.state,t=e.confirmedPassword,n=e.password,r=e.code;n===t?function(e,t,a,n,r,i){ge.apply(this,arguments)}(a.props.email,r,n,t,function(){a.props.back(),Di.emit("errorOccured","Set Password Succeed.")},function(){Di.emit("errorOccured","Verify Code Failed.")}):Di.emit("errorOccured","Password and confirmed password need to be the same.")},a.VerifyCode=function(){!function(e,t,a,n){fe.apply(this,arguments)}(a.props.email,a.state.code,function(e){console.log(e),a.setState({state:Oi,code:e})},function(e){Di.emit("errorOccured","Verify Code Failed.")})},a.SendCode=function(){!function(e,t,a){he.apply(this,arguments)}(a.props.email,function(){a.setState({state:wi})},function(){Di.emit("errorOccured","Send Code Failed.")})},a.state={password:"",confirmedPassword:"",state:vi,code:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.back,n=t.email,i=this.state,o=i.state,l=i.confirmedPassword,s=i.password!==l,c=function(t){return function(a){e.setState(Object(Vt.a)({},t,a.target.value))}};return r.a.createElement("div",{className:"enter-from-right slide-in"},o==vi&&r.a.createElement("div",null,r.a.createElement(Qr.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Account recovery"),r.a.createElement(Gt.a,{size:"small",variant:"outlined",color:"primary",onClick:a,style:{marginBottom:"1em",borderRadius:"25px"}},n),r.a.createElement(Qr.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Get a verification code"),r.a.createElement(Qr.a,{style:{fontSize:"0.8em",marginBottom:"0.4em"}},"Onedatashare will send a verification code to ",n),r.a.createElement(Zr.a,{style:w},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.SendCode},"Next"))),o==wi&&r.a.createElement("div",null,r.a.createElement(Qr.a,{style:{fontSize:"0.8em",marginBottom:"0.4em"}},"Verification code is sent to ",n),r.a.createElement(Gt.a,{size:"small",variant:"outlined",color:"primary",onClick:this.SendCode,style:{marginBottom:"1em",borderRadius:"22px"}},"Send Again?"),r.a.createElement(Qr.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Input your code here"),r.a.createElement(Ra.a,{style:{width:"100%",marginBottom:"20px"},id:"outlined-email-input",label:"Code",name:"code",margin:"normal",variant:"outlined",onChange:c("code")}),r.a.createElement(Zr.a,{style:w},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.VerifyCode},"Verify"))),o==Oi&&r.a.createElement("div",null,r.a.createElement(Qr.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Code is Verified, Reset your password here:"),r.a.createElement(Ra.a,{style:{width:"100%"},id:"outlined-email-input",label:"Password",name:"code",type:"password",margin:"normal",variant:"outlined",onChange:c("password")}),r.a.createElement(Ra.a,{error:s,style:{width:"100%",marginBottom:"20px"},id:"outlined-email-input",label:"Confirm Password",name:"code",type:"password",margin:"normal",variant:"outlined",onChange:c("confirmedPassword")}),r.a.createElement(Zr.a,{style:w},r.a.createElement(Gt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Gt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},disabled:s,onClick:this.SetPassword},"Reset"))))}}]),t}(n.Component),ki=(a(620),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).unsubscribe=Ii.subscribe(function(){a.setState({authenticated:Ii.getState().login})});var n=ce.get("SavedUsers")||0,i=0==n?{}:JSON.parse(n);return a.newLogin=r.a.createElement(bi,{accounts:i,login:function(e){var t=JSON.parse(ce.get("SavedUsers"))[e];a.userLogin(e,t.hash,t.publicKey,!1)},removedAccount:function(e){ce.set("SavedUsers",JSON.stringify(e)),a.setState({loading:!1,accounts:e})},useAnotherAccount:function(){a.setState({signIn:!0})},isLoading:function(e){a.setState({loading:e})}}),a.state={isSmall:window.innerWidth<=640,password:"",loading:!0,accounts:i,authenticated:Ii.getState().login,screen:a.newLogin,creatingAccount:!1,loggingAccount:!1,signIn:!1,forgotPasswordPressed:!1,validateEmailPressed:!1},a.getInnerCard=a.getInnerCard.bind(Object(Ht.a)(Object(Ht.a)(a))),a.userLogin=a.userLogin.bind(Object(Ht.a)(Object(Ht.a)(a))),a.userSigningIn=a.userSigningIn.bind(Object(Ht.a)(Object(Ht.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"userLogin",value:function(e,t,a,n){this.state.accounts[e]={hash:t,publicKey:a},n&&ce.set("SavedUsers",JSON.stringify(this.state.accounts)),Ii.dispatch(function(e,t,a){return{type:F,credential:{email:e,hash:t,publicKey:a}}}(e,t,a))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}}]),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this)),this.setState({loading:!1}),this.resize()}},{key:"resize",value:function(){this.state.isSmall&&window.innerWidth>640?this.setState({isSmall:!1}):!this.state.isSmall&&window.innerWidth<=640&&this.setState({isSmall:!0})}},{key:"userSigningIn",value:function(e,t,a,n){var r=this;!function(e,t,a,n){Ee.apply(this,arguments)}(e,t,function(t){console.log("success account",t),r.userLogin(e,t.hash,t.publicKey,a)},function(e){n(e)})}},{key:"getInnerCard",value:function(){var e=this;return r.a.createElement(Ut.a,null,r.a.createElement(Mt.a,{exact:!0,path:"/account",render:function(t){return e.state.screen}}),r.a.createElement(Mt.a,{exact:!0,path:"/account/register",render:function(t){return r.a.createElement(Ei,Object.assign({},t,{create:function(e,t){},backToSignin:function(){console.log("click"),e.setState({loggingAccount:!0})}}))}}),r.a.createElement(Mt.a,{exact:!0,path:"/account/lostValidationCode",render:function(t){return r.a.createElement(yi,Object.assign({},t,{email:e.state.email,back:function(){e.setState({loading:!1,loggingAccount:!0,validateEmailPressed:!1})}}))}}),r.a.createElement(Mt.a,{exact:!0,path:"/account/signIn",render:function(t){return r.a.createElement("div",null,(e.state.forgotPasswordPressed||e.state.validateEmailPressed)&&r.a.createElement(Wt.a,{to:"/account"}),r.a.createElement(gi,{email:e.props.email,isLoading:function(t){e.setState({loading:t})},createAccountPressed:function(){e.setState({loading:!1,createAccount:!0,creatingAccount:!0})},validateEmailPressed:function(t){e.setState({loading:!1,validateEmailPressed:!0,email:t})},forgotPasswordPressed:function(t){e.setState({loading:!1,screen:r.a.createElement(Si,{back:function(){e.setState({loading:!1,screen:e.newLogin,forgotPasswordPressed:!1})},email:t}),forgotPasswordPressed:!0})},userLoggedIn:e.userSigningIn}))}}))}},{key:"render",value:function(){var e=this.state,t=e.isSmall,a=e.loading,n=e.accounts,i=(e.screen,e.authenticated,e.creatingAccount),o=e.loggingAccount,l=e.signIn,s=e.forgotPasswordPressed,c=e.validateEmailPressed;console.log(s);Object.keys(n).length;console.log("/account/add"),this.state.creatingAccount=!1,this.state.validateEmailPressed=!1,this.state.loggingAccount=!1,this.state.signIn=!1;var d=window.innerHeight+"px";return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"..",height:d}},r.a.createElement("div",{style:{width:"450px",marginTop:"30px",marginLeft:"30px",marginRight:"30px",alignSelf:t?"flex-start":"center"}},Ii.getState().login&&r.a.createElement(Wt.a,{to:"/transfer"}),i&&r.a.createElement(Wt.a,{to:"/account/register"}),c&&r.a.createElement(Wt.a,{to:{pathname:"/account/lostValidationCode"}}),o&&r.a.createElement(Wt.a,{to:"/account"}),l&&r.a.createElement(Wt.a,{to:"/account/signIn"}),a&&r.a.createElement(Yt.a,null),t&&this.getInnerCard(),!t&&r.a.createElement(Jr.a,null,r.a.createElement(Kr.a,{style:{padding:"3em"}},this.getInnerCard()))))}}]),t}(n.Component)),Ci=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).props.match.params.id;return a.state={id:n},"ExistingCredGoogleDrive"===n?setTimeout(function(){Di.emit("errorOccured","Credential for the endpoint already Exists. Please logout from Google Drive and try again.")},500):"ExistingCredDropbox"===n?setTimeout(function(){Di.emit("errorOccured","Credential for the endpoint already Exists. Please logout from Dropbox and try again.")},500):(S,P,{uuid:n}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.id;return r.a.createElement("div",null,r.a.createElement(Wt.a,{from:"/oauth/"+e,to:"/transfer"}),r.a.createElement("h1",null,"Wait a second, You will be redirected."),r.a.createElement("h2",null,"ID: ",e))}}]),t}(n.Component),ji=a(67),xi=a(310),Pi=a.n(xi),Ti=a(309),Di=new(a.n(Ti).a),Ii=Object(ji.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:console.log("logging in");var a=t.credential,n=a.email,r=a.hash,i=a.publicKey;return console.log(n),ce.set("email",n,{maxAge:7200}),ce.set("hash",r,{maxAge:7200}),ce.set("publicKey",i,{maxAge:7200}),Object.assign({},e,{login:!0,email:n,hash:r,publicKey:i});case N:return console.log("logging out"),ce.remove("email"),ce.remove("hash"),ce.remove("admin"),ce.remove("endpoint1"),ce.remove("endpoint2"),ce.remove("publicKey"),window.location.replace("/"),Object.assign({},e,{login:!1,admin:!1,hash:"",email:"noemail"});case A:return Object.assign({},e,{admin:!0});case z:return"left"==t.side?Object.assign({},e,{endpoint1:Object(U.a)({},e.endpoint1,{loginProgress:t.progress})}):Object.assign({},e,{endpoint2:Object(U.a)({},e.endpoint2,{loginProgress:t.progress})});case R:return"left"==t.side?(console.log(JSON.stringify(Object(U.a)({},e.endpoint1,t.endpoint))),ce.set("endpoint1",JSON.stringify(Object(U.a)({},e.endpoint1,t.endpoint)),{maxAge:7200}),Object.assign({},e,{endpoint1:Object(U.a)({},e.endpoint1,t.endpoint)})):(ce.set("endpoint2",JSON.stringify(Object(U.a)({},e.endpoint2,t.endpoint)),{maxAge:7200}),Object.assign({},e,{endpoint2:Object(U.a)({},e.endpoint2,t.endpoint)}));default:return e}}),Bi=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).handleOpen=function(t){console.log(t),e.setState({open:!0,vertical:"top",horizontal:"center",error:JSON.stringify(t)}),setTimeout(e.handleClose,4e3)},e.handleClose=function(){e.setState({open:!1})},e.state={loaded:!1,open:!1,vertical:"top",horizontal:"center",error:"null"},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Home",this.setState({loaded:!0}),Di.on("errorOccured",this.handleOpen)}},{key:"render",value:function(){var e=this.state,t=(e.loggedIn,e.vertical),a=e.horizontal,n=e.error,i=e.open;return r.a.createElement("div",null,r.a.createElement(Pi.a,{anchorOrigin:{vertical:t,horizontal:a},style:{marginTop:"20px"},open:i,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},action:r.a.createElement(Gt.a,{onClick:this.handleClose,color:"secondary",size:"small"},"Close"),message:r.a.createElement("span",{id:"message-id"},n)}),r.a.createElement(Ut.a,null,r.a.createElement(Mt.a,{path:"/account",component:ki}),r.a.createElement(Mt.a,{path:"/oauth/:id",component:Ci}),r.a.createElement(Mt.a,{exact:!0,path:"/*/",component:pi})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fi=a(653);o.a.render(r.a.createElement(Fi.a,null,r.a.createElement(Bi,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[315,1,2]]]);
//# sourceMappingURL=main.62923d63.chunk.js.map